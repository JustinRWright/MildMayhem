(this.webpackJsonpmildmayhem=this.webpackJsonpmildmayhem||[]).push([[0],{109:function(t,e,i){var o={"./ion-phaser.entry.js":[113,5]};function s(t){if(!i.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],s=e[0];return i.e(e[1]).then((function(){return i(s)}))}s.keys=function(){return Object.keys(o)},s.id=109,t.exports=s},110:function(t,e,i){"use strict";i.r(e);var o=i(0),s=i(1),a=i.n(s),n=i(23),r=i.n(n),l=i(5),h=i(4),c=i(7),g=i(6),d=(i(69),i(126)),m=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;return Object(l.a)(this,i),(o=e.call(this,t)).toggleHighlight=function(){o.setState({highlight:!o.state.highlight})},o.state={highlight:!1},o}return Object(h.a)(i,[{key:"render",value:function(){var t;return t=this.state.highlight?"3px Solid Green":"3px Solid Black",Object(o.jsxs)("div",{onClick:this.props.onClick,onMouseEnter:this.toggleHighlight,onMouseLeave:this.toggleHighlight,style:{border:t,cursor:"pointer",textAlign:"center",borderRadius:15,width:200,height:200,margin:"auto",backgroundColor:"#9A9A9A"},children:[Object(o.jsx)("div",{children:this.props.matchType}),Object(o.jsx)("div",{style:{border:"1px solid",width:"100%",height:160},children:Object(o.jsx)("img",{width:"100%",height:"100%",src:this.props.image,alt:"Game Room Image"})})]})}}]),i}(a.a.Component),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAA1CAYAAAAasVavAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAEoSURBVGhD7Zq7DYNAEAXdClWQkNEBrVAMbSDRAAWQUQcROWttAJo7HwHyR/b5jfSy24U38d5MHEgGkAwgGUAywKmMZVms6zprmsaKovj5eA/v473OeJCxbZuN42h1XSeX/nq8l/fznjEPMqZpsqqqkotyiffznjGBjHVdrW3b5ILc4j29LwlkzPNsZVkmh3OL9/S+JJAxDENyMNd4XxLI6Ps+OZRrvC+RDCAZ4LKMeMEOZ7/tzVniWckAkgEkA0gGkAxwWUZOkQxEMpCnZcQLdjj7bW/OEs9KBpAMIBlAMoBkgMsycopkIJKBSAYiGYhkIB+REX/k1bzrPyUDSAaQDCAZQDJAIEMnCUDHKkBnTBE6cAM6fUygo9g/RzKAZADJAJIBJOPA7A5StHKeowSU9gAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAA7CAYAAAAkTufiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAQASURBVGhD7ZrNKzZRGMbff8XexsrGRlISiaSUUpQFZSMLZCVKYmGhLCwtLBT+AJENxUpSWPhaECIf+Qj3e65xTu/MM/c58/HMMOM9V135aM495/oxc8+c5/whK7IQhCwEIQtByEIQshCELAQhC0HIQhCyEIRiQ7i+vqaVlRXq7++npqYmKikp+VaXlpZSS0sLDQ8P0+rqKj08PMiZRVdkCDc3NzQ+Pu5MgpvcT7msrIzm5ubo6elJzjS8QkP4/PyktbU1qqqqYieRFTc3N9Pu7q6cdTiFgvD+/k4LCwuZ++vrXFFRQZubm3L2wQqEgP+A5eXl3ABQjgIiEMLh4SHV1tayJ8q6u7q66OrqSibRywjh9fWVRkdH2RPkxbOzs87lbJIRwsHBAVVXV7PF8+LGxkY6PT2ViXgZIaDlcIXz5qWlJZmIlxbCy8uL8yDCFTXZfUJ8zx0T1jj/xcUFfXx8OF/jzAceGRmht7c3OSu/tBBub2+pvb2dLWpyUhB6enro7u5OVvoSfsbvueNNRg7k0UkL4fj4mOrr69miJicFYX5+XlbxCr/njjcZOZBHJy0EPHWVl5ezRU3OIgTkMD1FaiFsbGywBYOcFIQkLwcYeXTSQlhcXGSLBTkpCHBSN0YYeXTSQpienmaLKbvDRlWxcOIYeXRiITw/P9PQ0BBbTDlvEJAHuTixEHDtdXR0sMWU8wYBeQrvMUoshPPzc+e9nCsWZDectMIODg7SycmJ806Ae8XY2Bh7nNvIg1ycWAj7+/tUWVnJFgty2hAGBgZ8q0dYWuvr62OPV0Ye5OLEQojbHuG0Ieju8mG6ma5NshDitkc4yxB0Y1kIQe3R5LQhxL0cYF2b9EEI0x5NThsCHOfGCOvapA9CmPaYV+vapA9CMe0x69a1SR+EYtpj1q1rkz4IW1tbbIHfYuQrlA9CWjezrNh941byQSimPebBXJv0QIi7uJonIx9yuuWBcH9/T93d3ezg32LkQ063PBB+c3tU5tqkB8LR0RHV1NSwg6Maa4FhPgcMI9SJu7ZYaORDTrc8ELa3t9mBUZ0kAKUkQSCnWx4IcZfZ3U4DgFISILgHJg8EvIy0trayg8M4TQBKxYJoa2ujy8tLWe1LHgh4K5uammIHB/k7ACgVA2JmZsb3Ub0HAoRNGfg4myug83cCUIoDAp3h7OxMVvgnHwRofX3d2e7CFSr0TwBQigICG8649waIhYB9Sjs7O9TQ0MAWhLGHaWJigh4fH+WonxE+bQ7aUtjZ2Ul7e3tyhF8sBCUsY2HDZm9vr0MSJ8IGysnJSeeyAawsCPPAfDAvtbG0rq7O2WiKxVVsOzLJCOF/kYUgZCEIWQhCFoKQhSBkIRDRXzzCsURAE5U2AAAAAElFTkSuQmCC",u=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;return Object(l.a)(this,i),(o=e.call(this,t)).toggle=function(){o.props.selected||o.props.onClick(o.props.id)},o.hoverToggle=function(){o.setState({hoverHighlight:!o.state.hoverHighlight})},o.state={highlight:o.props.selected,hoverHighlight:!1},o}return Object(h.a)(i,[{key:"render",value:function(){var t=this.props.selected,e="3px Solid Black";return this.state.hoverHighlight&&(e="3px Solid Green"),t&&(e="4px Solid #1f39bd"),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{style:{paddingTop:this.props.paddingTop}}),Object(o.jsx)("div",{onClick:this.toggle,onMouseEnter:this.hoverToggle,onMouseLeave:this.hoverToggle,style:{cursor:"pointer",borderRadius:2,border:e},children:Object(o.jsx)("img",{width:"100%",src:this.props.image,alt:"Game Room Image"})})]})}}]),i}(a.a.Component),w=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;return Object(l.a)(this,i),(o=e.call(this,t)).toggleControlsHighlight=function(){o.setState({highlightControls:!o.state.highlightControls})},o.toggleNotesHighlight=function(){o.setState({highlightNotes:!o.state.highlightNotes})},o.showNotes=function(){o.setState({showControls:!1,showNotes:!0})},o.showControls=function(){o.setState({showControls:!0,showNotes:!1})},o.onClick=function(t){"keyboard1"===t||"gamepad1"===t?(o.setState({controlSetToggle1:!o.state.controlSetToggle1}),o.props.setControlConfig(t)):"keyboard2"!==t&&"gamepad2"!==t||(o.setState({controlSetToggle2:!o.state.controlSetToggle2}),o.props.setControlConfig(t))},o.state={showControls:!1,showNotes:!0,controlSetToggle1:!0,controlSetToggle2:!0,highlightControls:!1,highlightNotes:!1},o}return Object(h.a)(i,[{key:"render",value:function(){var t,e,i,s,a,n,r=this.state.controlSetToggle1,l=this.state.controlSetToggle2,h="3px solid black",c="3px solid black",g=this.state.highlightControls,m=this.state.highlightNotes,w=this.state.showControls,b=this.state.showNotes;return g&&(h="3px Solid Green"),m&&(c="3px Solid Green"),w?(h="3px solid #1f39bd",s=Object(o.jsxs)(d.a,{item:!0,xs:2,children:[Object(o.jsx)(u,{id:"keyboard1",image:p,paddingTop:35,onClick:this.onClick,selected:this.state.controlSetToggle1}),Object(o.jsx)(u,{id:"keyboard2",image:p,paddingTop:65,onClick:this.onClick,selected:this.state.controlSetToggle2})]}),a=Object(o.jsxs)(d.a,{item:!0,xs:2,children:[Object(o.jsx)(u,{id:"gamepad1",image:y,paddingTop:33,onClick:this.onClick,selected:!this.state.controlSetToggle1}),Object(o.jsx)(u,{id:"gamepad2",image:y,paddingTop:62,onClick:this.onClick,selected:!this.state.controlSetToggle2})]}),t=r?Object(o.jsx)("div",{style:{backgroundColor:"#9A9A9A",fontSize:14,borderRadius:15,color:"black",border:"1px solid black"},children:Object(o.jsxs)("p",{children:[Object(o.jsx)("u",{children:"Player1"}),Object(o.jsx)("br",{}),"Movement: WASD",Object(o.jsx)("br",{}),"Sword Slash: SPACE",Object(o.jsx)("br",{}),"Lightning Bolt: O",Object(o.jsx)("br",{}),"Magic Blast: P",Object(o.jsx)("br",{}),"Dodge: SHIFT"]})}):Object(o.jsx)("div",{style:{backgroundColor:"#9A9A9A",fontSize:14,borderRadius:15,color:"black",border:"1px solid black"},children:Object(o.jsxs)("p",{children:[Object(o.jsx)("u",{children:"Player1"}),Object(o.jsx)("br",{}),"Movement: Left Stick",Object(o.jsx)("br",{}),"Sword Slash: X",Object(o.jsx)("br",{}),"Magic Blast: Right Trigger",Object(o.jsx)("br",{}),"Lightning: Left Trigger",Object(o.jsx)("br",{}),"Dodge: Right Bumper"]})}),e=l?Object(o.jsx)("div",{style:{backgroundColor:"#9A9A9A",fontSize:14,borderRadius:15,color:"black",border:"1px solid black"},children:Object(o.jsxs)("p",{children:[Object(o.jsx)("u",{children:"Player2"}),Object(o.jsx)("br",{}),"Movement: ArrowKeys",Object(o.jsx)("br",{}),"Sword Slash: NumPad 0",Object(o.jsx)("br",{}),"Lightning: NumPad 8",Object(o.jsx)("br",{}),"Magic Blast: NumPad 9",Object(o.jsx)("br",{}),"Dodge: NumPad 4"]})}):Object(o.jsx)("div",{style:{backgroundColor:"#9A9A9A",fontSize:14,borderRadius:15,color:"black",border:"1px solid black"},children:Object(o.jsxs)("p",{children:[Object(o.jsx)("u",{children:"Player2"}),Object(o.jsx)("br",{}),"Movement: Left Stick",Object(o.jsx)("br",{}),"Sword Slash: X",Object(o.jsx)("br",{}),"Magic Blast: Right Trigger",Object(o.jsx)("br",{}),"Lightning: Left Trigger",Object(o.jsx)("br",{}),"Dodge: Right Bumper"]})})):b&&(c="3px solid #1f39bd",n=Object(o.jsx)(d.a,{item:!0,xs:2,children:" "}),i=Object(o.jsx)("div",{style:{paddingTop:13},children:Object(o.jsx)("div",{style:{backgroundColor:"#9A9A9A",fontSize:14,borderRadius:15,color:"black",border:"1px solid black"},children:Object(o.jsxs)("p",{children:[Object(o.jsx)("u",{children:"v0.0.1"})," ",Object(o.jsx)("br",{})," ",Object(o.jsx)("b",{children:"Hello, and welcome to Mild Mayhem!"})," ",Object(o.jsx)("br",{}),"The goal is simple, defeat your opponent! Use your lightning bolts and magic blasts. You can deflect the magic blasts with your sword and dodge through attacks."]})})})),Object(o.jsxs)("div",{style:{paddingLeft:20,paddingTop:10,height:"100%"},children:[Object(o.jsxs)(d.a,{container:!0,children:[Object(o.jsx)(d.a,{item:!0,xs:6,children:Object(o.jsx)("div",{onClick:this.showControls,onMouseEnter:this.toggleControlsHighlight,onMouseLeave:this.toggleControlsHighlight,style:{cursor:"pointer",borderRadius:15,backgroundColor:"#9A9A9A",textAlign:"center",padding:10,border:h},children:"Controls"})}),Object(o.jsx)(d.a,{item:!0,xs:6,children:Object(o.jsx)("div",{onClick:this.showNotes,onMouseEnter:this.toggleNotesHighlight,onMouseLeave:this.toggleNotesHighlight,style:{cursor:"pointer",borderRadius:15,backgroundColor:"#9A9A9A",textAlign:"center",padding:10,border:c},children:"Notes"})})]}),Object(o.jsx)("div",{style:{backgroundColor:"black",borderRadius:15,textAlign:"center",color:"#39FF14",verticalAlign:"center",fontSize:13,height:220,border:"4px solid black"},children:Object(o.jsxs)(d.a,{container:!0,children:[n,s,Object(o.jsxs)(d.a,{item:!0,xs:8,children:[t,i,Object(o.jsx)("div",{style:{paddingTop:6}}),e]}),a]})})]})}}]),i}(a.a.Component),b=i.p+"static/media/GameShot5.80361c81.png",f=i(27),v=i(42),x=i.n(v)()("http://localhost:8081",{transports:["websocket"],path:"/socket"});var C=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;return Object(l.a)(this,i),(o=e.call(this,t)).setRoomState=function(t){o.setState({rooms:t})},o.controlConfigSelected=function(t){"keyboard1"===t?o.setState({controls:{player1:{Movement:"WASD",SwordSlash:"SPACE",MagicBlast:"P"},player2:o.state.controls.player2}}):"keyboard2"===t?o.setState({controls:{player1:o.state.controls.player1,player2:{Movement:"ArrowKeys",SwordSlash:"NumPad0",MagicBlast:"NumPad9"}}}):"gamepad1"===t?o.setState({controls:{player1:{Movement:"GamePad",SwordSlash:"",MagicBlast:""},player2:o.state.controls.player2}}):"gamepad2"===t&&o.setState({controls:{player1:o.state.controls.player1,player2:{Movement:"GamePad",SwordSlash:"",MagicBlast:""}}})},o.matchRoomClicked=function(t,e,i){"joinOnline"===t&&function(t){x.emit("joinRoom",t)}(i),o.props.passGameConfig(t,e),o.props.passControlConfig(o.state.controls)},console.log("menupage constructor called"),o.state={rooms:{},controls:{player1:{Movement:"WASD",SwordSlash:"SPACE",MagicBlast:"P"},player2:{Movement:"ArrowKeys",SwordSlash:"NumPad0",MagicBlast:"NumPad9"}}},o}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var t,e,i=this;console.log("component mounted"),t=function(t,e){var o=e;i.setRoomState(o)},x.on("showRooms",(function(e){return t(null,e)})),e=function(t,e){console.log("room is: "+JSON.stringify(e));var o=e;i.setRoomState(o)},console.log("getRoomsCalled"),x.emit("getRooms"),x.on("updateRooms",(function(t){return e(null,t)}))}},{key:"componentWillUnmount",value:function(){console.log("componentUnmounted"),x.removeAllListeners()}},{key:"render",value:function(){var t=this,e=this.state.rooms;return Object(o.jsx)("div",{style:{backgroundColor:"#031316",borderRadius:15,maxWidth:800,minWidth:800,minHeight:600,maxHeight:600,margin:"auto"},children:Object(o.jsxs)(d.a,{container:!0,children:[Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)("div",{style:{textAlign:"center",borderRadius:15,backgroundColor:"black",fontSize:30,fontFamily:"Audiowide",padding:20,border:"4px solid #1f39bd"},children:Object(o.jsx)("div",{style:{color:"#39FF14"},children:Object(o.jsx)("u",{children:"Mild Mayhem"})})})}),Object(o.jsx)(d.a,{item:!0,xs:4,children:Object(o.jsx)(w,{setControlConfig:this.controlConfigSelected})}),Object(o.jsx)(d.a,{item:!0,xs:4,children:Object(o.jsx)("div",{style:{paddingTop:40,paddingBottom:30},children:Object(o.jsx)(f.b,{to:"/game",style:{color:"black"},children:Object(o.jsx)(m,{onClick:function(){return t.matchRoomClicked("createOnline")},image:"data:image/png;base64,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",matchType:"Start Online Room"})})})}),Object(o.jsx)(d.a,{item:!0,xs:4,children:Object(o.jsx)("div",{style:{paddingTop:40,paddingBottom:30},children:Object(o.jsx)(f.b,{to:"/game",style:{color:"black"},children:Object(o.jsx)(m,{onClick:function(){return t.matchRoomClicked("offline")},image:b,matchType:"Start Local Room"})})})}),Object(o.jsx)(d.a,{item:!0,xs:1}),Object(o.jsxs)(d.a,{item:!0,xs:10,children:[Object(o.jsx)("div",{style:{textAlign:"center",paddingTop:15,font:25,color:"#39FF14"},children:Object(o.jsx)("b",{children:"Available Online Matches"})}),Object(o.jsx)("div",{style:{borderRadius:15,backgroundColor:"#9A9A9A",align:"left",textAlign:"left",minHeight:200,maxHeight:200,border:"1px solid"},children:Object(o.jsx)(d.a,{container:!0,children:Object.keys(e).map((function(i,s){return Object(o.jsx)(d.a,{item:!0,xs:4,children:Object(o.jsx)(f.b,{to:"/game",style:{color:"black"},children:Object(o.jsx)(m,{onClick:function(){return t.matchRoomClicked("joinOnline",e[i].name,e[i].id)},image:b,matchType:e[i].name},e[i].id)})})}))})})]}),Object(o.jsx)(d.a,{item:!0,xs:1})]})})}}]),i}(a.a.Component),j=i(3),A=i.n(j),O=i(44),k=i(8),S=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n;return Object(l.a)(this,i),n=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(n)),t.physics.add.existing(Object(k.a)(n)),n.body.setSize(30,61),n.createAnimations(t),n.orientationVector={x:0,y:-1},n.alive=!0,n.x=o,n.y=s,n.dodging=!1,n.scene=t,n.stunned=!1,n.setPlayerSpeed(400),n}return Object(h.a)(i,[{key:"playStun",value:function(){this.toggleStun();this.scene.time.delayedCall(1e3,this.onEvent,[],this)}},{key:"knockBack",value:function(t){var e=t.getCenter(),i=this.getCenter(),o=A.a.Math.Angle.Between(e.x,e.y,i.x,i.y),s=1200*Math.cos(o),a=1200*Math.sin(o);this.setVelocity(s,a)}},{key:"onEvent",value:function(){this.toggleStun()}},{key:"toggleStun",value:function(){this.stunned=!this.stunned,!1===this.stunned?this.setAlpha(1):this.setAlpha(.5)}},{key:"dodge",value:function(){this.body.setVelocity(1500*this.orientationVector.x,1500*this.orientationVector.y),this.dodging=!0,this.setBounce(0),console.log(this.orientationVector);this.scene.time.delayedCall(150,this.finishedDodging,[],this)}},{key:"finishedDodging",value:function(){this.setBounce(0),this.dodging=!1,this.body.setVelocity(0,0)}},{key:"getDodging",value:function(){return this.dodging}},{key:"getStun",value:function(){return this.stunned}},{key:"setPlayerSpeed",value:function(t){this.playerSpeed=t}},{key:"setPlayerVelocity",value:function(t){this.body.setVelocity(t.x*this.playerSpeed,t.y*this.playerSpeed),0===t.x&&0===t.y?this.anims.stop():t.y>0?this.anims.play(this.texture.key+"down",!0):t.y<0?this.anims.play(this.texture.key+"up",!0):t.x>0?this.anims.play(this.texture.key+"right",!0):t.x<0&&this.anims.play(this.texture.key+"left",!0)}},{key:"setMovementAnim",value:function(t){"undefined"!==typeof this.anims&&(0===t.x&&0===t.y?this.anims.stop():t.y>0?this.anims.play(this.texture.key+"down",!0):t.y<0?this.anims.play(this.texture.key+"up",!0):t.x>0?this.anims.play(this.texture.key+"right",!0):t.x<0&&this.anims.play(this.texture.key+"left",!0))}},{key:"setOrientationVector",value:function(t){Math.abs(t.x)+Math.abs(t.y)>0&&(this.orientationVector.x===t.x&&this.orientationVector.y===t.y||(this.orientationVector=t))}},{key:"gameOver",value:function(){this.alive=!1}},{key:"isAlive",value:function(){return this.alive}},{key:"getOrientationVector",value:function(){return this.orientationVector}},{key:"setHealthBar",value:function(t){this.healthBar=t}},{key:"getHealthBar",value:function(){return this.healthBar}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"createAnimations",value:function(t){t.anims.create({key:this.texture.key+"left",frames:t.anims.generateFrameNumbers(this.texture.key,{start:4,end:5}),frameRate:10,repeat:-1}),t.anims.create({key:this.texture.key+"up",frames:t.anims.generateFrameNumbers(this.texture.key,{start:0,end:1}),frameRate:10,repeat:-1}),t.anims.create({key:this.texture.key+"right",frames:t.anims.generateFrameNumbers(this.texture.key,{start:2,end:3}),frameRate:10,repeat:-1}),t.anims.create({key:this.texture.key+"down",frames:t.anims.generateFrameNumbers(this.texture.key,{start:6,end:7}),frameRate:10,repeat:-1})}}]),i}(A.a.Physics.Arcade.Sprite),B=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n;return Object(l.a)(this,i),(n=e.call(this,t,o,s,a)).setKeyInput(t,o),n.scene=t,n.gamePadCount=s,n.gamePadNumber=a,n}return Object(h.a)(i,[{key:"setWASDControls",value:function(){this.directionals=this.directionals=this.scene.input.keyboard.addKeys({up:A.a.Input.Keyboard.KeyCodes.W,down:A.a.Input.Keyboard.KeyCodes.S,left:A.a.Input.Keyboard.KeyCodes.A,right:A.a.Input.Keyboard.KeyCodes.D}),this.magicBlastAttack=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.P),this.swordSwing=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.SPACE),this.dodge=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.SHIFT),this.lightningBolt=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.O)}},{key:"setArrowKeyControls",value:function(){this.directionals=this.scene.input.keyboard.createCursorKeys(),this.magicBlastAttack=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.NUMPAD_NINE),this.swordSwing=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.NUMPAD_ZERO),this.dodge=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.NUMPAD_FOUR),this.lightningBolt=this.scene.input.keyboard.addKey(A.a.Input.Keyboard.KeyCodes.NUMPAD_EIGHT)}},{key:"setKeyInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.directionals;e.magicBlast,e.swordSwing,e.dodge;if("WASD"===i)this.setWASDControls();else if("ArrowKeys"===i)this.setArrowKeyControls();else if("GamePad"===i){this.gamePadMode=!0,console.log("game pad mode active"+this.gamePadMode),this.lightningBolt={},this.swordSwing={},this.magicBlastAttack={},this.dodge={};var o=0,s=0;this.directionals={up:{isDown:s>0},down:{isDown:s<0},left:{isDown:o>0},right:{isDown:o>0}},this.scene.input.gamepad.once("connected",(function(t,e){}),this),this.scene.input.gamepad.on("down",(function(t,e,i){this.swordSwing.isDown=t.X,this.magicBlastAttack.isDown=t.R2,this.dodge.isDown=t.R1,this.lightningBolt.isDown=t.L2}),this),this.scene.input.gamepad.on("up",(function(t,e,i){this.swordSwing.isDown=!1,this.magicBlastAttack.isDown=!1,this.dodge.isDown=!1,this.lightningBolt.isDown=!1}),this)}}},{key:"getMovementVector",value:function(){var t;if(this.gamePadMode)if(this.scene.input.gamepad.total&&this.scene.input.gamepad.isActive()){if(this.scene.input.gamepad.total>=this.gamePadCount){t=this.scene.input.gamepad.pad1,this.scene.input.gamepad.pad2&&2===this.gamePadNumber&&(t=this.scene.input.gamepad.pad2);var e=t.axes[0].getValue(),i=t.axes[1].getValue();this.directionals={up:{isDown:i<0},down:{isDown:i>0},left:{isDown:e<0},right:{isDown:e>0}}}}else console.log("Hey you didn't connect enough controllers"),1==this.gamePadNumber?(console.log("WASD keyboard Set"),this.setWASDControls(),this.gamePadCount-=1):(console.log("Arrow keyboard Set"),this.setArrowKeyControls(),this.gamePadCount-=1);return{x:(this.directionals.right.isDown?1:0)+(this.directionals.left.isDown?-1:0),y:(this.directionals.up.isDown?-1:0)+(this.directionals.down.isDown?1:0)}}},{key:"getMoveInput",value:function(){return{lightningBoltFiring:this.lightningBolt.isDown,dodgeFiring:this.dodge.isDown,magicBlastFiring:this.magicBlastAttack.isDown,swordSwingFiring:this.swordSwing.isDown}}}]),i}(A.a.GameObjects.Sprite),P=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=r.owner;Object(l.a)(this,i),n=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(n)),t.physics.add.existing(Object(k.a)(n)),n.setScale(.4),n.magicSpeed=800,n.setCircle(85),n.createAnimations(t),n.anims.play("magicBlastSpin",!0),n.owner=h,n.x=o,n.y=s;n.scene.time.delayedCall(1e3,n.explodeTimer,[],Object(k.a)(n));return n.on("animationcomplete",(function(t){this.emit("animationcomplete_"+t.key,t)}),Object(k.a)(n)),n.on("animationcomplete_magicBlastExplode",(function(){this.destroy()})),n}return Object(h.a)(i,[{key:"explodeTimer",value:function(){this.explode()}},{key:"createAnimations",value:function(t){t.anims.create({key:"magicBlastSpin",frames:t.anims.generateFrameNumbers(this.texture.key,{start:1,end:12}),frameRate:10,repeat:-1}),t.anims.create({key:"magicBlastExplode",frames:t.anims.generateFrameNumbers(this.texture.key,{start:13,end:29}),frameRate:20})}},{key:"getOwner",value:function(){return this.owner}},{key:"setMagicBlastVelocity",value:function(t){var e=A.a.Math.Angle.Between(0,0,t.x,t.y);this.body.setVelocity(t.x*Math.abs(Math.cos(e))*this.magicSpeed,t.y*Math.abs(Math.sin(e))*this.magicSpeed)}},{key:"explode",value:function(){this.body&&(this.body.enable=!1,this.anims.play("magicBlastExplode",!0))}},{key:"deflectFrom",value:function(t){var e=A.a.Math.Angle.Between(t.x,t.y,this.x,this.y);this.body.setVelocity(Math.cos(e)*this.magicSpeed,Math.sin(e)*this.magicSpeed)}}]),i}(A.a.Physics.Arcade.Sprite),D=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=r.owner;return Object(l.a)(this,i),n=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(n)),n.owner=h,t.physics.add.existing(Object(k.a)(n)),n.setCircle(220),n.body.setOffset(n.owner.displayWidth/2,n.owner.displayHeight/2),n.setScale(.4),n.createAnimations(t),n.on("animationcomplete",(function(){this.swinging=!1,this.destroy()}),Object(k.a)(n)),n.x=o,n.y=s,n.swinging=!1,n}return Object(h.a)(i,[{key:"createAnimations",value:function(t){t.anims.create({key:"swordSlash",frames:t.anims.generateFrameNumbers(this.texture.key,{start:1,end:5}),frameRate:30,hideOnComplete:!0})}},{key:"update",value:function(){this.swinging&&this.followOwner()}},{key:"orientSword",value:function(t){var e=180*Math.atan2(-t.y,-t.x)/Math.PI-90;this.angle=e}},{key:"swingSword",value:function(){this.swinging=!0,this.orientSword(this.owner.getOrientationVector()),this.anims.play("swordSlash")}},{key:"isSwinging",value:function(){return this.swinging}},{key:"followOwner",value:function(){this.x=this.owner.x,this.y=this.owner.y}},{key:"inSwordSweep",value:function(t){var e=180*A.a.Math.Angle.Between(t.x,t.y,this.x,this.y)/Math.PI-90;return e>this.angle-60&&e<this.angle+60}},{key:"getOwner",value:function(){return this.owner}}]),i}(A.a.Physics.Arcade.Sprite),M=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;Object(l.a)(this,i),o=e.call(this,t.scene,t.x,t.y),t.scene.add.existing(Object(k.a)(o));var s=t.scene,a=t.x,n=t.y;return o.bar=new A.a.GameObjects.Graphics(s),o.x=a,o.y=n,o.value=100,o.p=.76,o.draw(),s.add.existing(o.bar),o}return Object(h.a)(i,[{key:"decrease",value:function(t){return this.value-=10*t,this.value<0&&(this.value=0),this.draw(),0===this.value}},{key:"draw",value:function(){this.bar.clear(),this.bar.fillStyle(0),this.bar.fillRect(this.x,this.y,800,16),this.bar.fillStyle(16777215),this.bar.fillRect(this.x+2,this.y+2,792,12),this.value<30?this.bar.fillStyle(16711680):this.bar.fillStyle(65280);var t=Math.floor(this.p*this.value);this.bar.fillRect(this.x+2,this.y+2,10*t,12)}}]),i}(A.a.GameObjects.Sprite),R=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a,n){var r;return Object(l.a)(this,i),r=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(r)),r.setScale(.5),r.active=!1,r.coolDownMS=n,r.x=o,r.y=s,r.scene=t,r}return Object(h.a)(i,[{key:"startCoolDown",value:function(){if(this.active=!0,this.setAlpha(.5),console.log("scene is: "+this.scene),this.scene)this.scene.time.delayedCall(this.coolDownMS,this.onEvent,[],this)}},{key:"isActive",value:function(){return this.active}},{key:"onEvent",value:function(){this.setAlpha(1),this.active=!1}}]),i}(A.a.Physics.Arcade.Sprite),W=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=r.owner;Object(l.a)(this,i),n=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(n)),n.createAnimations(t),n.anims.play("lightningStrike",!0);var c=A.a.Math.Angle.Between(0,0,h.getOrientationVector().x,h.getOrientationVector().y);n.angle=180*c/Math.PI+90,n.owner=h,n.x=o+h.getOrientationVector().x*h.width/2+h.getOrientationVector().x*n.height/2*Math.abs(Math.cos(c)),n.y=s+h.getOrientationVector().y*h.height/2+h.getOrientationVector().y*n.height/2*Math.abs(Math.sin(c));n.scene.time.delayedCall(3e3,n.endLightningBolt,[],Object(k.a)(n));return n.on("animationcomplete",(function(t){this.emit("animationcomplete_"+t.key,t)}),Object(k.a)(n)),n.on("animationcomplete_lightningStrike",(function(){this.anims.play("lightningSizzle")})),n}return Object(h.a)(i,[{key:"endLightningBolt",value:function(){this.destroy()}},{key:"createAnimations",value:function(t){t.anims.create({key:"lightningStrike",frames:t.anims.generateFrameNumbers(this.texture.key,{start:1,end:17}),frameRate:30}),t.anims.create({key:"lightningSizzle",frames:t.anims.generateFrameNumbers(this.texture.key,{start:15,end:17}),frameRate:10,repeat:-1})}},{key:"getOwner",value:function(){return this.owner}}]),i}(A.a.Physics.Arcade.Sprite),N=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t,o,s,a){var n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=r.owner,c=r.animationSprite,g=r.Olength;function d(t,e,i){var o=e[0];o&&(o.oscillationLength*=3,o.oscillationLength<=1e3*o.startingOlength/100?o.scene.tweens.add({targets:o,x:o.x+o.oscillationLength*o.orientationx,y:o.y+o.oscillationLength*o.orientationy,duration:100,yoyo:!0,onComplete:d}):o&&o.scene.tweens.add({targets:o,x:o.x+1e3*o.orientationx*o.startingOlength/100,y:o.y+1e3*o.orientationy*o.startingOlength/100,duration:100,onComplete:m,repeat:10,yoyo:!0}))}function m(t,e,i){e[0].destroy()}return Object(l.a)(this,i),n=e.call(this,t,o,s,a),t.add.existing(Object(k.a)(n)),t.physics.add.existing(Object(k.a)(n)),n.setCircle(16),n.setVisible(!1),n.texture=a,n.animationSprite=c,n.owner=h,n.x=o+h.width-8,n.y=s+h.height-8,n.oscillationLength=g,n.startingOlength=g,n.orientationx=h.getOrientationVector().x,n.orientationy=h.getOrientationVector().y,n.scene.tweens.add({targets:Object(k.a)(n),x:n.x+n.oscillationLength*n.orientationx,y:n.y+n.oscillationLength*n.orientationy,duration:100,yoyo:!0,onComplete:d,onCompleteParams:[n.scene]}),n}return Object(h.a)(i,[{key:"destroyAnimationSprite",value:function(){this.animationSprite.destroy()}},{key:"getOwner",value:function(){return this.owner}}]),i}(A.a.Physics.Arcade.Sprite),E={preload:function(){this.load.image("bckg","https://i.imgur.com/DMVC2IQ.png"),this.load.image("wall","https://i.imgur.com/av8q7Or.png"),this.load.image("vwall","https://i.imgur.com/UB2GdEL.png"),this.load.spritesheet("swordSwing","https://i.imgur.com/ULyXfap.png",{frameWidth:500,frameHeight:500}),this.load.image("swordCool","https://i.imgur.com/SnLjQdR.png"),this.load.image("blastCool","https://i.imgur.com/d4Enueh.png"),this.load.spritesheet("magicBlast","https://i.imgur.com/dEhNPqO.png",{frameWidth:150,frameHeight:150}),this.load.spritesheet("explosion","https://i.imgur.com/UHZiUKC.png",{frameWidth:192,frameHeight:192}),this.load.spritesheet("player","https://i.imgur.com/WlEeiKT.png",{frameWidth:68,frameHeight:68}),this.load.spritesheet("otherPlayer","https://i.imgur.com/NYAJusD.png",{frameWidth:68,frameHeight:68}),this.load.spritesheet("Background","https://i.imgur.com/8SzCikO.png",{frameWidth:800,frameHeight:600}),this.load.image("dodgeCool","https://i.imgur.com/mTklmkU.png"),this.load.spritesheet("lightningBolt","https://i.imgur.com/3MskIUy.png",{frameWidth:16,frameHeight:1e3}),this.load.image("lightningCool","https://i.imgur.com/FVquIxw.png")},create:function(){this.deflectBlast=function(t,e){e.inSwordSweep(t)&&t.deflectFrom(e.getOwner())},this.explosionAnim=this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("explosion",{start:1,end:23}),frameRate:10,repeat:-1}),this.playerHit=function(t,e){if(t.getOwner()!==e&&(t.explode(),!1===e.getStun()||!1===e.getDodging())){if(e.playStun(),e.getHealthBar().decrease(4)){e.gameOver(),e.anims.play("explode",!0);e.scene.time.delayedCall(3e3,e.scene.redirect,[],this)}e.knockBack(t)}},this.playerHitLightning=function(t,e){if(t.getOwner()!==e&&!1===e.getStun()&&!1===e.getDodging()){if(e.playStun(),e.getHealthBar().decrease(4)){e.gameOver(),e.anims.play("explode",!0);e.scene.time.delayedCall(3e3,e.scene.redirect,[],this)}e.knockBack(t),t.destroyAnimationSprite(),t.scene.lightningBolts.getChildren().forEach((function(t){t.getOwner()!==e&&(t.body.enable=!1)}))}},this.redirect=function(){window.location.replace("https://mildmayhem.herokuapp.com/")},this.background=this.add.sprite(400,300,"Background"),this.anims.create({key:"glow",frames:this.anims.generateFrameNumbers("Background",{start:1,end:12}),frameRate:4,repeat:-1,yoyo:!0}),this.background.anims.play("glow"),this.player1=new S(this,400,500,"player",this.explosionAnim),this.player2=new S(this,400,100,"otherPlayer",this.explosionAnim),this.youWin=this.add.text(150,240,"PLAYER2 WINS ",{fontSize:"70px",color:"#66FF00"}),this.youWin.setVisible(!1),this.healthBarP1=new M({scene:this,x:0,y:584}),this.healthBarP2=new M({scene:this,x:0,y:0}),this.swordCoolDownP1=new R(this,230,560,"swordCool",700),this.swordCoolDownP2=new R(this,570,40,"swordCool",700),this.magicCoolDownP1=new R(this,278,560,"blastCool",1e3),this.magicCoolDownP2=new R(this,618,40,"blastCool",1e3),this.dodgeCoolDownP1=new R(this,326,560,"dodgeCool",1e3),this.dodgeCoolDownP2=new R(this,665,40,"dodgeCool",1e3),this.lightningCoolDownP1=new R(this,374,560,"lightningCool",5e3),this.lightningCoolDownP2=new R(this,713,40,"lightningCool",5e3);var t="GamePad"===this.controlConfig.player1.Movement?1:0;t+="GamePad"==this.controlConfig.player2.Movement?1:0,this.controlsP1=new B(this,{directionals:this.controlConfig.player1.Movement,magicBlast:this.controlConfig.player1.MagicBlast,swordSwing:this.controlConfig.player1.SwordSlash},t,1),this.controlsP2=new B(this,{directionals:this.controlConfig.player2.Movement,magicBlast:this.controlConfig.player2.MagicBlast,swordSwing:this.controlConfig.player2.SwordSlash},t,2),this.magicBlasts=this.physics.add.group(),this.swordHitBoxes=this.physics.add.group(),this.lightningBolts=this.physics.add.group(),this.players=this.physics.add.group(),this.players.add(this.player1),this.players.add(this.player2),this.player1.setHealthBar(this.healthBarP1),this.player2.setHealthBar(this.healthBarP2),this.player1.setBounce(1),this.player2.setBounce(1),this.physics.add.overlap(this.magicBlasts,this.swordHitBoxes,this.deflectBlast),this.physics.add.overlap(this.magicBlasts,this.players,this.playerHit),this.physics.add.overlap(this.lightningBolts,this.players,this.playerHitLightning),this.leftWall=this.physics.add.sprite(-55,300,"vwall"),this.leftWall.body.immovable=!0,this.rightWall=this.physics.add.sprite(855,300,"vwall"),this.rightWall.body.immovable=!0,this.topWall=this.physics.add.sprite(400,-55,"wall"),this.topWall.body.immovable=!0,this.bottomWall=this.physics.add.sprite(400,655,"wall"),this.bottomWall.body.immovable=!0,this.walls=this.physics.add.staticGroup(),this.walls.add(this.leftWall),this.walls.add(this.rightWall),this.walls.add(this.topWall),this.walls.add(this.bottomWall),this.midWall=this.physics.add.sprite(400,300,"wall"),this.midWall.setScale(1,.08),this.midWall.setVisible(!1),this.midWall.body.immovable=!0,this.physics.add.collider(this.midWall,this.players),this.physics.add.collider(this.magicBlasts,this.walls),this.physics.add.collider(this.walls,this.players),this.createMagicBlast=function(t){var e=new P(this,t.getX(),t.getY(),"magicBlast",{owner:t});this.magicBlasts.add(e),e.setMagicBlastVelocity(t.getOrientationVector()),e.setCollideWorldBounds(!0),e.setBounce(1)},this.checkForSwingThenSwing=function(t,e,i){if(this.swordHitBoxes.getChildren().forEach((function(t){if(t.getOwner()===e);})),t.swordSwingFiring&&"undefined"==typeof swordToCheck&&!i.isActive()){var o=e.getX(),s=e.getY(),a=new D(this,o,s,"swordSwing",{owner:e});a.swingSword(),i.startCoolDown(),this.swordHitBoxes.add(a)}}},update:function(){this.player1.isAlive()?this.player2.isAlive()||(this.youWin.setVisible(!0),this.youWin.setText("PLAYER1 WINS")):(this.youWin.setVisible(!0),this.youWin.setText("PLAYER2 WINS")),this.movementVectorP1=this.controlsP1.getMovementVector(),this.movementVectorP2=this.controlsP2.getMovementVector(),this.player1.setOrientationVector(this.movementVectorP1),this.player2.setOrientationVector(this.movementVectorP2),this.player1.getStun()||!this.player1.isAlive()||this.player1.getDodging()||this.player1.setPlayerVelocity(this.movementVectorP1),this.player2.getStun()||!this.player2.isAlive()||this.player2.getDodging()||this.player2.setPlayerVelocity(this.movementVectorP2);var t=this.controlsP1.getMoveInput(),e=this.controlsP2.getMoveInput();if(t.magicBlastFiring&&!this.magicCoolDownP1.isActive()&&(this.magicCoolDownP1.startCoolDown(),this.createMagicBlast(this.player1)),e.magicBlastFiring&&!this.magicCoolDownP2.isActive()&&(this.magicCoolDownP2.startCoolDown(),this.createMagicBlast(this.player2)),t.lightningBoltFiring&&!this.lightningCoolDownP1.isActive()){this.lightningCoolDownP1.startCoolDown();var i=new W(this,this.player1.getX(),this.player1.getY(),"lightningBolt",{owner:this.player1}),o=new N(this,this.player1.getX(),this.player1.getY(),"magicBlast",{owner:this.player1,animationSprite:i,Olength:100}),s=new N(this,this.player1.getX(),this.player1.getY(),"magicBlast",{owner:this.player1,animationSprite:i,Olength:50}),a=new N(this,this.player1.getX(),this.player1.getY(),"magicBlast",{owner:this.player1,animationSprite:i,Olength:25}),n=new N(this,this.player1.getX(),this.player1.getY(),"magicBlast",{owner:this.player1,animationSprite:i,Olength:75});this.lightningBolts.add(o),this.lightningBolts.add(s),this.lightningBolts.add(a),this.lightningBolts.add(n)}if(e.lightningBoltFiring&&!this.lightningCoolDownP2.isActive()){this.lightningCoolDownP2.startCoolDown();var r=new W(this,this.player2.getX(),this.player2.getY(),"lightningBolt",{owner:this.player2}),l=new N(this,this.player2.getX(),this.player2.getY(),"magicBlast",{owner:this.player2,animationSprite:r,Olength:100}),h=new N(this,this.player2.getX(),this.player2.getY(),"magicBlast",{owner:this.player2,animationSprite:r,Olength:50}),c=new N(this,this.player2.getX(),this.player2.getY(),"magicBlast",{owner:this.player2,animationSprite:r,Olength:25}),g=new N(this,this.player2.getX(),this.player2.getY(),"magicBlast",{owner:this.player2,animationSprite:r,Olength:75});this.lightningBolts.add(l),this.lightningBolts.add(h),this.lightningBolts.add(c),this.lightningBolts.add(g)}!t.dodgeFiring||this.player1.getDodging()||this.dodgeCoolDownP1.isActive()||(this.dodgeCoolDownP1.startCoolDown(),this.player1.dodge()),!e.dodgeFiring||this.player2.getDodging()||this.dodgeCoolDownP2.isActive()||(this.dodgeCoolDownP2.startCoolDown(),this.player2.dodge());var d=this.swordHitBoxes.getChildren();d.length>0&&d.forEach((function(t){t.update()})),this.checkForSwingThenSwing(t,this.player1,this.swordCoolDownP1),this.checkForSwingThenSwing(e,this.player2,this.swordCoolDownP2)}},V={preload:function(){this.load.image("bckg","https://i.imgur.com/DMVC2IQ.png"),this.load.image("wall","https://i.imgur.com/av8q7Or.png"),this.load.image("vwall","https://i.imgur.com/UB2GdEL.png"),this.load.spritesheet("swordSwing","https://i.imgur.com/ULyXfap.png",{frameWidth:500,frameHeight:500}),this.load.image("swordCool","https://i.imgur.com/SnLjQdR.png"),this.load.image("blastCool","https://i.imgur.com/d4Enueh.png"),this.load.spritesheet("magicBlast","https://i.imgur.com/dEhNPqO.png",{frameWidth:150,frameHeight:150}),this.load.spritesheet("explosion","https://i.imgur.com/UHZiUKC.png",{frameWidth:192,frameHeight:192}),this.load.spritesheet("player","https://i.imgur.com/WlEeiKT.png",{frameWidth:68,frameHeight:68}),this.load.spritesheet("otherPlayer","https://i.imgur.com/NYAJusD.png",{frameWidth:68,frameHeight:68}),this.load.spritesheet("Background","https://i.imgur.com/8SzCikO.png",{frameWidth:800,frameHeight:600}),this.load.image("dodgeCool","https://i.imgur.com/mTklmkU.png"),this.load.spritesheet("lightningBolt","https://i.imgur.com/3MskIUy.png",{frameWidth:16,frameHeight:1e3}),this.load.image("lightningCool","https://i.imgur.com/FVquIxw.png")},create:function(){var t=this;this.deflectBlast=function(t,e){e.inSwordSweep(t)&&t.deflectFrom(e.getOwner())},this.explosionAnim=this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("explosion",{start:1,end:23}),frameRate:10,repeat:-1}),this.explosionAnim=this.anims.create({key:"explode2",frames:this.anims.generateFrameNumbers("explosion",{start:1,end:23}),frameRate:10,repeat:-1}),this.playerHit=function(e,i){if(e.getOwner()!==i&&(console.log("this.roomName is: "+t.roomName),t.socket.emit("destroyMagicBlast",t.roomName),e.explode(),!1===i.getStun()||!1===i.getDodging())){if(t.socket.emit("damagePlayer",t.roomName),i.playStun(),i.getHealthBar().decrease(4)){i.gameOver(),i.anims.play("explode",!0);i.scene.time.delayedCall(3e3,i.scene.redirect,[],this)}i.knockBack(e)}},this.playerHitLightning=function(e,i){if(e.getOwner()!==i&&!1===i.getStun()&&!1===i.getDodging()){if(i.playStun(),t.socket.emit("destroyLightningBolt",t.roomName),t.socket.emit("damagePlayer",t.roomName),i.getHealthBar().decrease(4)){i.gameOver(),i.anims.play("explode",!0);i.scene.time.delayedCall(3e3,i.scene.redirect,[],this)}i.knockBack(e),e.destroyAnimationSprite(),e.scene.lightningBolts.getChildren().forEach((function(t){t.getOwner()!==i&&(t.body.enable=!1)}))}},this.redirect=function(){window.location.replace("https://mildmayhem.herokuapp.com/")},this.background=this.add.sprite(400,300,"Background"),this.anims.create({key:"glow",frames:this.anims.generateFrameNumbers("Background",{start:1,end:12}),frameRate:4,repeat:-1,yoyo:!0}),this.background.anims.play("glow"),this.setCoolDowns=function(t,e,i,o,s){"top"===s?(this[t]=new R(this,570,40,"swordCool",700),this[i]=new R(this,618,40,"blastCool",1e3),this[e]=new R(this,665,40,"dodgeCool",1e3),this[o]=new R(this,713,40,"lightningCool",5e3)):"bottom"===s&&(this[t]=new R(this,230,560,"swordCool",700),this[i]=new R(this,278,560,"blastCool",1e3),this[e]=new R(this,326,560,"dodgeCool",1e3),this[o]=new R(this,374,560,"lightningCool",5e3))},this.healthBarP1=new M({scene:this,x:0,y:584}),this.healthBarP2=new M({scene:this,x:0,y:0}),"joinOnline"===this.gameConfig&&(this.player1=new S(this,400,200,"otherPlayer",this.explosionAnim),this.player2=new S(this,400,500,"player",this.explosionAnim),this.player1.setHealthBar(this.healthBarP2),this.player2.setHealthBar(this.healthBarP1),this.setCoolDowns("swordCoolDownP1","dodgeCoolDownP1","magicCoolDownP1","lightningCoolDownP1","top"),this.setCoolDowns("swordCoolDownP2","dodgeCoolDownP2","magicCoolDownP2","lightningCoolDownP2","bottom"),this.player1.createAnimations(this),this.player2.createAnimations(this),console.log("my id is: "+this.socket.id),this.player2.setVisible(!0)),"createOnline"===this.gameConfig&&(this.player1=new S(this,400,500,"player",this.explosionAnim),this.player2=new S(this,400,200,"otherPlayer",this.explosionAnim),this.player1.setHealthBar(this.healthBarP1),this.player2.setHealthBar(this.healthBarP2),this.player1.createAnimations(this),this.setCoolDowns("swordCoolDownP1","dodgeCoolDownP1","magicCoolDownP1","lightningCoolDownP1","bottom"),this.setCoolDowns("swordCoolDownP2","dodgeCoolDownP2","magicCoolDownP2","lightningCoolDownP2","top"),this.player2.createAnimations(this),this.player2.setVisible(!1),this.socket.emit("createOnlineRoom"),this.socket.emit("getRoomName")),this.player2.moving=!1,this.player2.moveTimer=0,this.socket.on("yourRoomName",(function(e){t.roomName=e})),this.socket.on("opponentJoined",(function(e){t.player2.setVisible(!0),t.opponentSocketId=e,t.socket.emit("confirmJoinRoom",e)})),this.socket.on("joinedRoom",(function(e){t.opponentSocketId=e})),this.socket.on("playerMoved",(function(e){t.player2.moving=!0,t.player2.x=e.x,t.player2.y=e.y,t.player2.setOrientationVector(e.direction),t.player2.isAlive()&&t.player2.setMovementAnim(e.direction)})),this.socket.on("swordSwung",(function(){t.onlinePlayerSwing(t.player2,t.swordCoolDownP2)})),this.socket.on("magicBlastCreated",(function(){t.magicCoolDownP2.startCoolDown(),t.createMagicBlast(t.player2)})),this.socket.on("magicBlastDestroyed",(function(){t.magicBlasts.getChildren().forEach((function(e){e.getOwner()!==t.player2&&e.explode()}))})),this.socket.on("playerDamaged",(function(){if(t.player2.playStun(),t.player2.getHealthBar().decrease(4)){t.player2.gameOver(),t.player2.anims.play("explode2",!1);t.time.delayedCall(3e3,t.redirect,[],t)}})),this.socket.on("dodgeCoolDownStarted",(function(){t.dodgeCoolDownP2.startCoolDown()})),this.socket.on("lightningBoltCreated",(function(){t.lightningCoolDownP2.startCoolDown(),t.createLightningBolt(t.player2)})),this.socket.on("lightningBoltDestroyed",(function(){var e=!1;t.lightningBolts.getChildren().forEach((function(i){i.getOwner()!==t.player2&&(i.body.enable=!1,!1===e&&(e=!0,i.destroyAnimationSprite()))}))})),this.youWin=this.add.text(150,240,"PLAYER2 WINS ",{fontSize:"70px",color:"#66FF00"}),this.youWin.setVisible(!1);var e="GamePad"===this.controlConfig.player1.Movement?1:0;this.controlsP1=new B(this,{directionals:this.controlConfig.player1.Movement,magicBlast:this.controlConfig.player1.MagicBlast,swordSwing:this.controlConfig.player1.SwordSlash},e,1),this.magicBlasts=this.physics.add.group(),this.swordHitBoxes=this.physics.add.group(),this.lightningBolts=this.physics.add.group(),this.players=this.physics.add.group(),this.players.add(this.player1),this.player1.setBounce(1),this.physics.add.overlap(this.magicBlasts,this.swordHitBoxes,this.deflectBlast),this.physics.add.overlap(this.magicBlasts,this.players,this.playerHit),this.physics.add.overlap(this.lightningBolts,this.players,this.playerHitLightning),this.leftWall=this.physics.add.sprite(-55,300,"vwall"),this.leftWall.body.immovable=!0,this.rightWall=this.physics.add.sprite(855,300,"vwall"),this.rightWall.body.immovable=!0,this.topWall=this.physics.add.sprite(400,-55,"wall"),this.topWall.body.immovable=!0,this.bottomWall=this.physics.add.sprite(400,655,"wall"),this.bottomWall.body.immovable=!0,this.walls=this.physics.add.staticGroup(),this.walls.add(this.leftWall),this.walls.add(this.rightWall),this.walls.add(this.topWall),this.walls.add(this.bottomWall),this.midWall=this.physics.add.sprite(400,300,"wall"),this.midWall.setScale(1,.08),this.midWall.setVisible(!1),this.midWall.body.immovable=!0,this.physics.add.collider(this.midWall,this.players),this.physics.add.collider(this.magicBlasts,this.walls),this.physics.add.collider(this.walls,this.players),t.createMagicBlast=function(e){var i=new P(t,e.getX(),e.getY(),"magicBlast",{owner:e});t.magicBlasts.add(i),i.setMagicBlastVelocity(e.getOrientationVector()),i.setCollideWorldBounds(!0),i.setBounce(1)},this.createLightningBolt=function(t){var e=new W(this,t.getX(),t.getY(),"lightningBolt",{owner:t}),i=new N(this,t.getX(),t.getY(),"magicBlast",{owner:t,animationSprite:e,Olength:100}),o=new N(this,t.getX(),t.getY(),"magicBlast",{owner:t,animationSprite:e,Olength:50}),s=new N(this,t.getX(),t.getY(),"magicBlast",{owner:t,animationSprite:e,Olength:25}),a=new N(this,t.getX(),t.getY(),"magicBlast",{owner:t,animationSprite:e,Olength:75});this.lightningBolts.add(i),this.lightningBolts.add(o),this.lightningBolts.add(s),this.lightningBolts.add(a)},this.checkForSwingThenSwing=function(t,e,i){if(this.swordHitBoxes.getChildren().forEach((function(t){if(t.getOwner()===e);})),t.swordSwingFiring&&"undefined"==typeof swordToCheck&&!i.isActive()){this.socket.emit("swingSword",this.roomName);var o=e.getX(),s=e.getY(),a=new D(this,o,s,"swordSwing",{owner:e});a.swingSword(),i.startCoolDown(),this.swordHitBoxes.add(a)}},this.onlinePlayerSwing=function(t,e){var i=t.getX(),o=t.getY(),s=new D(this,i,o,"swordSwing",{owner:t});s.body.active=!1,s.swingSword(),e.startCoolDown(),this.swordHitBoxes.add(s)}},update:function(){this.player1.isAlive()?this.player2.isAlive()||(this.youWin.setVisible(!0),this.youWin.setText("YOU WIN"),console.log("is player 2 anim playing?"+this.player2.anims.getTotalFrames())):(this.youWin.setVisible(!0),this.youWin.setText("OPPONENT WINS")),this.movementVectorP1=this.controlsP1.getMovementVector(),this.player1.setOrientationVector(this.movementVectorP1);var t=this.player1.x,e=this.player1.y,i=this.player1.getOrientationVector();!this.player1.oldPosition||t===this.player1.oldPosition.x&&e===this.player1.oldPosition.y&&i===this.player1.oldPosition.direction||this.socket.emit("playerMovement",{x:t,y:e,direction:i,roomName:this.roomName}),this.player1.oldPosition={x:t,y:e,direction:i},!1===this.player2.moving&&this.player2.isAlive()?this.player2.anims.pause():(this.player2.moveTimer+=1,this.player2.moveTimer>17&&(this.player2.moving=!1,this.player2.moveTimer=0)),this.player1.getStun()||!this.player1.isAlive()||this.player1.getDodging()||(this.player1.setPlayerVelocity(this.movementVectorP1),this.player1.setMovementAnim(this.movementVectorP1));var o=this.controlsP1.getMoveInput();o.magicBlastFiring&&!this.magicCoolDownP1.isActive()&&(this.magicCoolDownP1.startCoolDown(),this.socket.emit("createMagicBlast",this.roomName),this.createMagicBlast(this.player1)),o.lightningBoltFiring&&!this.lightningCoolDownP1.isActive()&&(this.lightningCoolDownP1.startCoolDown(),this.socket.emit("createLightningBolt",this.roomName),this.createLightningBolt(this.player1)),!o.dodgeFiring||this.player1.getDodging()||this.dodgeCoolDownP1.isActive()||(this.dodgeCoolDownP1.startCoolDown(),this.socket.emit("startDodgeCoolDown",this.roomName),this.player1.dodge());var s=this.swordHitBoxes.getChildren();s.length>0&&s.forEach((function(t){t.update()})),this.checkForSwingThenSwing(o,this.player1,this.swordCoolDownP1)}},I=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;Object(l.a)(this,i);var s=(o=e.call(this,t)).props.gameConfig,a=o.props.roomName;console.log("gamePage constructor called");var n=E;("createOnline"===s||"joinOnline"==s)&&(n=V);var r=o.props.controlConfig;return o.state={initialize:!0,game:{type:A.a.AUTO,width:800,height:600,physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},input:{gamepad:!0},scene:{init:function(){this.controlConfig=r,this.gameConfig=s,this.roomName=a,this.socket=x},preload:n.preload,create:n.create,update:n.update}}},o}return Object(h.a)(i,[{key:"componentWillUnmount",value:function(){console.log("componentUnmounted"),x.removeAllListeners(),x.emit("destroyOnlineRoom")}},{key:"render",value:function(){var t=this.state,e=t.initialize,i=t.game;return Object(o.jsx)("div",{style:{maxWidth:800,minWidth:800,minHeight:600,maxHeight:600,margin:"auto"},children:Object(o.jsx)(O.a,{game:i,initialize:e})})}}]),i}(s.Component),T=i(9),H=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var o;return Object(l.a)(this,i),(o=e.call(this,t)).controlConfig=function(t){o.setState({controlConfig:t})},o.gameConfig=function(t,e){o.setState({gameConfig:t,roomName:e})},o.state={controlConfig:{player1:{Movement:"WASD",SwordSlash:"SPACE",MagicBlast:"P"},player2:{Movement:"ArrowKeys",SwordSlash:"NumPad0",MagicBlast:"NumPad9"}},gameConfig:"offline",roomName:"Null"},o}return Object(h.a)(i,[{key:"render",value:function(){return Object(o.jsx)(f.a,{children:Object(o.jsx)("div",{children:Object(o.jsxs)(T.c,{children:[Object(o.jsx)(T.a,{path:"/",exact:!0,children:Object(o.jsx)(C,{passControlConfig:this.controlConfig,addNewRoom:this.addNewRoom,passGameConfig:this.gameConfig})}),Object(o.jsx)(T.a,{path:"/game",children:Object(o.jsx)(I,{controlConfig:this.state.controlConfig,gameConfig:this.state.gameConfig,roomName:this.state.roomName})})]})})})}}]),i}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(H,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},69:function(t,e,i){}},[[110,2,3]]]);
//# sourceMappingURL=main.1f7b188b.chunk.js.map