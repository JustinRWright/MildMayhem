{"ast":null,"code":"/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n(function (exports, global) {\n  /**\n   * Utilities namespace.\n   *\n   * @namespace\n   */\n  var util = exports.util = {};\n  /**\n   * Parses an URI\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api public\n   */\n\n  var re = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\n\n  util.parseUri = function (str) {\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n\n    return uri;\n  };\n  /**\n   * Produces a unique url that identifies a Socket.IO connection.\n   *\n   * @param {Object} uri\n   * @api public\n   */\n\n\n  util.uniqueUri = function (uri) {\n    var protocol = uri.protocol,\n        host = uri.host,\n        port = uri.port;\n\n    if ('document' in global) {\n      host = host || document.domain;\n      port = port || (protocol == 'https' && document.location.protocol !== 'https:' ? 443 : document.location.port);\n    } else {\n      host = host || 'localhost';\n\n      if (!port && protocol == 'https') {\n        port = 443;\n      }\n    }\n\n    return (protocol || 'http') + '://' + host + ':' + (port || 80);\n  };\n  /**\n   * Mergest 2 query strings in to once unique query string\n   *\n   * @param {String} base\n   * @param {String} addition\n   * @api public\n   */\n\n\n  util.query = function (base, addition) {\n    var query = util.chunkQuery(base || ''),\n        components = [];\n    util.merge(query, util.chunkQuery(addition || ''));\n\n    for (var part in query) {\n      if (query.hasOwnProperty(part)) {\n        components.push(part + '=' + query[part]);\n      }\n    }\n\n    return components.length ? '?' + components.join('&') : '';\n  };\n  /**\n   * Transforms a querystring in to an object\n   *\n   * @param {String} qs\n   * @api public\n   */\n\n\n  util.chunkQuery = function (qs) {\n    var query = {},\n        params = qs.split('&'),\n        i = 0,\n        l = params.length,\n        kv;\n\n    for (; i < l; ++i) {\n      kv = params[i].split('=');\n\n      if (kv[0]) {\n        query[kv[0]] = kv[1];\n      }\n    }\n\n    return query;\n  };\n  /**\n   * Executes the given function when the page is loaded.\n   *\n   *     io.util.load(function () { console.log('page loaded'); });\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n\n  var pageLoaded = false;\n\n  util.load = function (fn) {\n    if ('document' in global && document.readyState === 'complete' || pageLoaded) {\n      return fn();\n    }\n\n    util.on(global, 'load', fn, false);\n  };\n  /**\n   * Adds an event.\n   *\n   * @api private\n   */\n\n\n  util.on = function (element, event, fn, capture) {\n    if (element.attachEvent) {\n      element.attachEvent('on' + event, fn);\n    } else if (element.addEventListener) {\n      element.addEventListener(event, fn, capture);\n    }\n  };\n  /**\n   * Generates the correct `XMLHttpRequest` for regular and cross domain requests.\n   *\n   * @param {Boolean} [xdomain] Create a request that can be used cross domain.\n   * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.\n   * @api private\n   */\n\n\n  util.request = function (xdomain) {\n    // if node\n    var XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\n\n    return new XMLHttpRequest(); // end node\n\n    if (xdomain && 'undefined' != typeof XDomainRequest && !util.ua.hasCORS) {\n      return new XDomainRequest();\n    }\n\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {\n      return new XMLHttpRequest();\n    }\n\n    if (!xdomain) {\n      try {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n      } catch (e) {}\n    }\n\n    return null;\n  };\n  /**\n   * XHR based transport constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  /**\n   * Change the internal pageLoaded value.\n   */\n\n\n  if ('undefined' != typeof window) {\n    util.load(function () {\n      pageLoaded = true;\n    });\n  }\n  /**\n   * Defers a function to ensure a spinner is not displayed by the browser\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n\n  util.defer = function (fn) {\n    if (!util.ua.webkit || 'undefined' != typeof importScripts) {\n      return fn();\n    }\n\n    util.load(function () {\n      setTimeout(fn, 100);\n    });\n  };\n  /**\n   * Merges two objects.\n   *\n   * @api public\n   */\n\n\n  util.merge = function merge(target, additional, deep, lastseen) {\n    var seen = lastseen || [],\n        depth = typeof deep == 'undefined' ? 2 : deep,\n        prop;\n\n    for (prop in additional) {\n      if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {\n        if (typeof target[prop] !== 'object' || !depth) {\n          target[prop] = additional[prop];\n          seen.push(additional[prop]);\n        } else {\n          util.merge(target[prop], additional[prop], depth - 1, seen);\n        }\n      }\n    }\n\n    return target;\n  };\n  /**\n   * Merges prototypes from objects\n   *\n   * @api public\n   */\n\n\n  util.mixin = function (ctor, ctor2) {\n    util.merge(ctor.prototype, ctor2.prototype);\n  };\n  /**\n   * Shortcut for prototypical and static inheritance.\n   *\n   * @api private\n   */\n\n\n  util.inherit = function (ctor, ctor2) {\n    function f() {}\n\n    ;\n    f.prototype = ctor2.prototype;\n    ctor.prototype = new f();\n  };\n  /**\n   * Checks if the given object is an Array.\n   *\n   *     io.util.isArray([]); // true\n   *     io.util.isArray({}); // false\n   *\n   * @param Object obj\n   * @api public\n   */\n\n\n  util.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n  /**\n   * Intersects values of two arrays into a third\n   *\n   * @api public\n   */\n\n\n  util.intersect = function (arr, arr2) {\n    var ret = [],\n        longest = arr.length > arr2.length ? arr : arr2,\n        shortest = arr.length > arr2.length ? arr2 : arr;\n\n    for (var i = 0, l = shortest.length; i < l; i++) {\n      if (~util.indexOf(longest, shortest[i])) ret.push(shortest[i]);\n    }\n\n    return ret;\n  };\n  /**\n   * Array indexOf compatibility.\n   *\n   * @see bit.ly/a5Dxa2\n   * @api public\n   */\n\n\n  util.indexOf = function (arr, o, i) {\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0; i < j && arr[i] !== o; i++) {}\n\n    return j <= i ? -1 : i;\n  };\n  /**\n   * Converts enumerables to array.\n   *\n   * @api public\n   */\n\n\n  util.toArray = function (enu) {\n    var arr = [];\n\n    for (var i = 0, l = enu.length; i < l; i++) arr.push(enu[i]);\n\n    return arr;\n  };\n  /**\n   * UA / engines detection namespace.\n   *\n   * @namespace\n   */\n\n\n  util.ua = {};\n  /**\n   * Whether the UA supports CORS for XHR.\n   *\n   * @api public\n   */\n\n  util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && function () {\n    try {\n      var a = new XMLHttpRequest();\n    } catch (e) {\n      return false;\n    }\n\n    return a.withCredentials != undefined;\n  }();\n  /**\n   * Detect webkit.\n   *\n   * @api public\n   */\n\n\n  util.ua.webkit = 'undefined' != typeof navigator && /webkit/i.test(navigator.userAgent);\n  /**\n  * Detect iPad/iPhone/iPod.\n  *\n  * @api public\n  */\n\n  util.ua.iDevice = 'undefined' != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent);\n})('undefined' != typeof io ? io : module.exports, this);","map":{"version":3,"sources":["C:/Users/Human/Documents/MildMayhemFull/mildmayhem/client/node_modules/socket.io-proxy/node_modules/socket.io-client/lib/util.js"],"names":["exports","global","util","re","parts","parseUri","str","m","exec","uri","i","uniqueUri","protocol","host","port","document","domain","location","query","base","addition","chunkQuery","components","merge","part","hasOwnProperty","push","length","join","qs","params","split","l","kv","pageLoaded","load","fn","readyState","on","element","event","capture","attachEvent","addEventListener","request","xdomain","XMLHttpRequest","require","XDomainRequest","ua","hasCORS","ActiveXObject","e","window","defer","webkit","importScripts","setTimeout","target","additional","deep","lastseen","seen","depth","prop","indexOf","mixin","ctor","ctor2","prototype","inherit","f","isArray","Array","obj","Object","toString","call","intersect","arr","arr2","ret","longest","shortest","o","j","toArray","enu","a","withCredentials","undefined","navigator","test","userAgent","iDevice","io","module"],"mappings":"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","sourcesContent":["/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, global) {\n\n  /**\n   * Utilities namespace.\n   *\n   * @namespace\n   */\n\n  var util = exports.util = {};\n\n  /**\n   * Parses an URI\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api public\n   */\n\n  var re = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password',\n               'host', 'port', 'relative', 'path', 'directory', 'file', 'query',\n               'anchor'];\n\n  util.parseUri = function (str) {\n    var m = re.exec(str || '')\n      , uri = {}\n      , i = 14;\n\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n\n    return uri;\n  };\n\n  /**\n   * Produces a unique url that identifies a Socket.IO connection.\n   *\n   * @param {Object} uri\n   * @api public\n   */\n\n  util.uniqueUri = function (uri) {\n    var protocol = uri.protocol\n      , host = uri.host\n      , port = uri.port;\n\n    if ('document' in global) {\n      host = host || document.domain;\n      port = port || (protocol == 'https'\n        && document.location.protocol !== 'https:' ? 443 : document.location.port);\n    } else {\n      host = host || 'localhost';\n\n      if (!port && protocol == 'https') {\n        port = 443;\n      }\n    }\n\n    return (protocol || 'http') + '://' + host + ':' + (port || 80);\n  };\n\n  /**\n   * Mergest 2 query strings in to once unique query string\n   *\n   * @param {String} base\n   * @param {String} addition\n   * @api public\n   */\n\n  util.query = function (base, addition) {\n    var query = util.chunkQuery(base || '')\n      , components = [];\n\n    util.merge(query, util.chunkQuery(addition || ''));\n    for (var part in query) {\n      if (query.hasOwnProperty(part)) {\n        components.push(part + '=' + query[part]);\n      }\n    }\n\n    return components.length ? '?' + components.join('&') : '';\n  };\n\n  /**\n   * Transforms a querystring in to an object\n   *\n   * @param {String} qs\n   * @api public\n   */\n\n  util.chunkQuery = function (qs) {\n    var query = {}\n      , params = qs.split('&')\n      , i = 0\n      , l = params.length\n      , kv;\n\n    for (; i < l; ++i) {\n      kv = params[i].split('=');\n      if (kv[0]) {\n        query[kv[0]] = kv[1];\n      }\n    }\n\n    return query;\n  };\n\n  /**\n   * Executes the given function when the page is loaded.\n   *\n   *     io.util.load(function () { console.log('page loaded'); });\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  var pageLoaded = false;\n\n  util.load = function (fn) {\n    if ('document' in global && document.readyState === 'complete' || pageLoaded) {\n      return fn();\n    }\n\n    util.on(global, 'load', fn, false);\n  };\n\n  /**\n   * Adds an event.\n   *\n   * @api private\n   */\n\n  util.on = function (element, event, fn, capture) {\n    if (element.attachEvent) {\n      element.attachEvent('on' + event, fn);\n    } else if (element.addEventListener) {\n      element.addEventListener(event, fn, capture);\n    }\n  };\n\n  /**\n   * Generates the correct `XMLHttpRequest` for regular and cross domain requests.\n   *\n   * @param {Boolean} [xdomain] Create a request that can be used cross domain.\n   * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.\n   * @api private\n   */\n\n  util.request = function (xdomain) {\n    // if node\n    var XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\n    return new XMLHttpRequest();\n    // end node\n\n    if (xdomain && 'undefined' != typeof XDomainRequest && !util.ua.hasCORS) {\n      return new XDomainRequest();\n    }\n\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {\n      return new XMLHttpRequest();\n    }\n\n    if (!xdomain) {\n      try {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n      } catch(e) { }\n    }\n\n    return null;\n  };\n\n  /**\n   * XHR based transport constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  /**\n   * Change the internal pageLoaded value.\n   */\n\n  if ('undefined' != typeof window) {\n    util.load(function () {\n      pageLoaded = true;\n    });\n  }\n\n  /**\n   * Defers a function to ensure a spinner is not displayed by the browser\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  util.defer = function (fn) {\n    if (!util.ua.webkit || 'undefined' != typeof importScripts) {\n      return fn();\n    }\n\n    util.load(function () {\n      setTimeout(fn, 100);\n    });\n  };\n\n  /**\n   * Merges two objects.\n   *\n   * @api public\n   */\n\n  util.merge = function merge (target, additional, deep, lastseen) {\n    var seen = lastseen || []\n      , depth = typeof deep == 'undefined' ? 2 : deep\n      , prop;\n\n    for (prop in additional) {\n      if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {\n        if (typeof target[prop] !== 'object' || !depth) {\n          target[prop] = additional[prop];\n          seen.push(additional[prop]);\n        } else {\n          util.merge(target[prop], additional[prop], depth - 1, seen);\n        }\n      }\n    }\n\n    return target;\n  };\n\n  /**\n   * Merges prototypes from objects\n   *\n   * @api public\n   */\n\n  util.mixin = function (ctor, ctor2) {\n    util.merge(ctor.prototype, ctor2.prototype);\n  };\n\n  /**\n   * Shortcut for prototypical and static inheritance.\n   *\n   * @api private\n   */\n\n  util.inherit = function (ctor, ctor2) {\n    function f() {};\n    f.prototype = ctor2.prototype;\n    ctor.prototype = new f;\n  };\n\n  /**\n   * Checks if the given object is an Array.\n   *\n   *     io.util.isArray([]); // true\n   *     io.util.isArray({}); // false\n   *\n   * @param Object obj\n   * @api public\n   */\n\n  util.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  /**\n   * Intersects values of two arrays into a third\n   *\n   * @api public\n   */\n\n  util.intersect = function (arr, arr2) {\n    var ret = []\n      , longest = arr.length > arr2.length ? arr : arr2\n      , shortest = arr.length > arr2.length ? arr2 : arr;\n\n    for (var i = 0, l = shortest.length; i < l; i++) {\n      if (~util.indexOf(longest, shortest[i]))\n        ret.push(shortest[i]);\n    }\n\n    return ret;\n  };\n\n  /**\n   * Array indexOf compatibility.\n   *\n   * @see bit.ly/a5Dxa2\n   * @api public\n   */\n\n  util.indexOf = function (arr, o, i) {\n\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0;\n         i < j && arr[i] !== o; i++) {}\n\n    return j <= i ? -1 : i;\n  };\n\n  /**\n   * Converts enumerables to array.\n   *\n   * @api public\n   */\n\n  util.toArray = function (enu) {\n    var arr = [];\n\n    for (var i = 0, l = enu.length; i < l; i++)\n      arr.push(enu[i]);\n\n    return arr;\n  };\n\n  /**\n   * UA / engines detection namespace.\n   *\n   * @namespace\n   */\n\n  util.ua = {};\n\n  /**\n   * Whether the UA supports CORS for XHR.\n   *\n   * @api public\n   */\n\n  util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && (function () {\n    try {\n      var a = new XMLHttpRequest();\n    } catch (e) {\n      return false;\n    }\n\n    return a.withCredentials != undefined;\n  })();\n\n  /**\n   * Detect webkit.\n   *\n   * @api public\n   */\n\n  util.ua.webkit = 'undefined' != typeof navigator\n    && /webkit/i.test(navigator.userAgent);\n\n   /**\n   * Detect iPad/iPhone/iPod.\n   *\n   * @api public\n   */\n\n  util.ua.iDevice = 'undefined' != typeof navigator\n      && /iPad|iPhone|iPod/i.test(navigator.userAgent);\n\n})('undefined' != typeof io ? io : module.exports, this);\n"]},"metadata":{},"sourceType":"script"}