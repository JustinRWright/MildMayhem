{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar NAMESPACE = 'ionphaser';\nvar queueCongestion = 0;\nvar queuePending = false;\nvar win = typeof window !== 'undefined' ? window : {};\nvar CSS = win.CSS;\nvar doc = win.document || {\n  head: {}\n};\nvar plt = {\n  $flags$: 0,\n  $resourcesUrl$: '',\n  jmp: function jmp(h) {\n    return h();\n  },\n  raf: function raf(h) {\n    return requestAnimationFrame(h);\n  },\n  ael: function ael(el, eventName, listener, opts) {\n    return el.addEventListener(eventName, listener, opts);\n  },\n  rel: function rel(el, eventName, listener, opts) {\n    return el.removeEventListener(eventName, listener, opts);\n  }\n};\n\nvar promiseResolve = function promiseResolve(v) {\n  return Promise.resolve(v);\n};\n\nvar supportsConstructibleStylesheets = /*@__PURE__*/function () {\n  try {\n    new CSSStyleSheet();\n    return true;\n  } catch (e) {}\n\n  return false;\n}();\n\nvar HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\n\nvar createTime = function createTime(fnName, tagName) {\n  if (tagName === void 0) {\n    tagName = '';\n  }\n\n  {\n    return function () {\n      return;\n    };\n  }\n};\n\nvar uniqueTime = function uniqueTime(key, measureText) {\n  {\n    return function () {\n      return;\n    };\n  }\n};\n\nvar rootAppliedStyles = new WeakMap();\n\nvar registerStyle = function registerStyle(scopeId, cssText, allowCS) {\n  var style = styles.get(scopeId);\n\n  if (supportsConstructibleStylesheets && allowCS) {\n    style = style || new CSSStyleSheet();\n    style.replace(cssText);\n  } else {\n    style = cssText;\n  }\n\n  styles.set(scopeId, style);\n};\n\nvar addStyle = function addStyle(styleContainerNode, cmpMeta, mode, hostElm) {\n  var scopeId = getScopeId(cmpMeta.$tagName$);\n  var style = styles.get(scopeId); // if an element is NOT connected then getRootNode() will return the wrong root node\n  // so the fallback is to always use the document for the root node in those cases\n\n  styleContainerNode = styleContainerNode.nodeType === 11\n  /* DocumentFragment */\n  ? styleContainerNode : doc;\n\n  if (style) {\n    if (typeof style === 'string') {\n      styleContainerNode = styleContainerNode.head || styleContainerNode;\n      var appliedStyles = rootAppliedStyles.get(styleContainerNode);\n      var styleElm = void 0;\n\n      if (!appliedStyles) {\n        rootAppliedStyles.set(styleContainerNode, appliedStyles = new Set());\n      }\n\n      if (!appliedStyles.has(scopeId)) {\n        {\n          if (plt.$cssShim$) {\n            styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10\n            /* needsScopedEncapsulation */\n            ));\n            var newScopeId = styleElm['s-sc'];\n\n            if (newScopeId) {\n              scopeId = newScopeId; // we don't want to add this styleID to the appliedStyles Set\n              // since the cssVarShim might need to apply several different\n              // stylesheets for the same component\n\n              appliedStyles = null;\n            }\n          } else {\n            styleElm = doc.createElement('style');\n            styleElm.innerHTML = style;\n          }\n\n          styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n        }\n\n        if (appliedStyles) {\n          appliedStyles.add(scopeId);\n        }\n      }\n    } else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {\n      styleContainerNode.adoptedStyleSheets = __spreadArrays(styleContainerNode.adoptedStyleSheets, [style]);\n    }\n  }\n\n  return scopeId;\n};\n\nvar attachStyles = function attachStyles(hostRef) {\n  var cmpMeta = hostRef.$cmpMeta$;\n  var elm = hostRef.$hostElement$;\n  var endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n  var scopeId = addStyle(elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n  endAttachStyles();\n};\n\nvar getScopeId = function getScopeId(tagName, mode) {\n  return 'sc-' + tagName;\n};\n\nvar isComplexType = function isComplexType(o) {\n  // https://jsperf.com/typeof-fn-object/5\n  o = typeof o;\n  return o === 'object' || o === 'function';\n};\n\nvar getDynamicImportFunction = function getDynamicImportFunction(namespace) {\n  return \"__sc_import_\" + namespace.replace(/\\s|-/g, '_');\n};\n\nvar getElement = function getElement(ref) {\n  return getHostRef(ref).$hostElement$;\n};\n\nvar emitEvent = function emitEvent(elm, name, opts) {\n  var ev = new CustomEvent(name, opts);\n  elm.dispatchEvent(ev);\n  return ev;\n};\n\nvar attachToAncestor = function attachToAncestor(hostRef, ancestorComponent) {\n  if (ancestorComponent && !hostRef.$onRenderResolve$) {\n    ancestorComponent['s-p'].push(new Promise(function (r) {\n      return hostRef.$onRenderResolve$ = r;\n    }));\n  }\n};\n\nvar scheduleUpdate = function scheduleUpdate(hostRef, isInitialLoad) {\n  {\n    hostRef.$flags$ |= 16\n    /* isQueuedForUpdate */\n    ;\n  }\n\n  if (hostRef.$flags$ & 4\n  /* isWaitingForChildren */\n  ) {\n      hostRef.$flags$ |= 512\n      /* needsRerender */\n      ;\n      return;\n    }\n\n  var endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n  var ancestorComponent = hostRef.$ancestorComponent$;\n  var instance = hostRef.$lazyInstance$;\n\n  var update = function update() {\n    return updateComponent(hostRef, instance, isInitialLoad);\n  };\n\n  attachToAncestor(hostRef, ancestorComponent);\n  var promise;\n\n  if (isInitialLoad) {\n    {\n      promise = safeCall(instance, 'componentWillLoad');\n    }\n  }\n\n  endSchedule(); // there is no ancestorc omponent or the ancestor component\n  // has already fired off its lifecycle update then\n  // fire off the initial update\n\n  return then(promise, function () {\n    return writeTask(update);\n  });\n};\n\nvar updateComponent = function updateComponent(hostRef, instance, isInitialLoad) {\n  // updateComponent\n  var elm = hostRef.$hostElement$;\n  var endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n  var rc = elm['s-rc'];\n\n  if (isInitialLoad) {\n    // DOM WRITE!\n    attachStyles(hostRef);\n  }\n\n  var endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n\n  if (plt.$cssShim$) {\n    plt.$cssShim$.updateHost(elm);\n  }\n\n  {\n    hostRef.$flags$ &= ~16\n    /* isQueuedForUpdate */\n    ;\n  }\n  {\n    hostRef.$flags$ |= 2\n    /* hasRendered */\n    ;\n  }\n\n  if (rc) {\n    // ok, so turns out there are some child host elements\n    // waiting on this parent element to load\n    // let's fire off all update callbacks waiting\n    rc.map(function (cb) {\n      return cb();\n    });\n    elm['s-rc'] = undefined;\n  }\n\n  endRender();\n  endUpdate();\n  {\n    var childrenPromises = elm['s-p'];\n\n    var postUpdate = function postUpdate() {\n      return postUpdateComponent(hostRef);\n    };\n\n    if (childrenPromises.length === 0) {\n      postUpdate();\n    } else {\n      Promise.all(childrenPromises).then(postUpdate);\n      hostRef.$flags$ |= 4\n      /* isWaitingForChildren */\n      ;\n      childrenPromises.length = 0;\n    }\n  }\n};\n\nvar postUpdateComponent = function postUpdateComponent(hostRef) {\n  var tagName = hostRef.$cmpMeta$.$tagName$;\n  var elm = hostRef.$hostElement$;\n  var endPostUpdate = createTime('postUpdate', tagName);\n  var ancestorComponent = hostRef.$ancestorComponent$;\n\n  if (!(hostRef.$flags$ & 64\n  /* hasLoadedComponent */\n  )) {\n    hostRef.$flags$ |= 64\n    /* hasLoadedComponent */\n    ;\n    {\n      // DOM WRITE!\n      addHydratedFlag(elm);\n    }\n    endPostUpdate();\n    {\n      hostRef.$onReadyResolve$(elm);\n\n      if (!ancestorComponent) {\n        appDidLoad();\n      }\n    }\n  } else {\n    endPostUpdate();\n  }\n\n  {\n    hostRef.$onInstanceResolve$(elm);\n  } // load events fire from bottom to top\n  // the deepest elements load first then bubbles up\n\n  {\n    if (hostRef.$onRenderResolve$) {\n      hostRef.$onRenderResolve$();\n      hostRef.$onRenderResolve$ = undefined;\n    }\n\n    if (hostRef.$flags$ & 512\n    /* needsRerender */\n    ) {\n        nextTick(function () {\n          return scheduleUpdate(hostRef, false);\n        });\n      }\n\n    hostRef.$flags$ &= ~(4\n    /* isWaitingForChildren */\n    | 512\n    /* needsRerender */\n    );\n  } // ( •_•)\n  // ( •_•)>⌐■-■\n  // (⌐■_■)\n};\n\nvar forceUpdate = function forceUpdate(ref) {\n  {\n    var hostRef = getHostRef(ref);\n    var isConnected = hostRef.$hostElement$.isConnected;\n\n    if (isConnected && (hostRef.$flags$ & (2\n    /* hasRendered */\n    | 16\n    /* isQueuedForUpdate */\n    )) === 2\n    /* hasRendered */\n    ) {\n        scheduleUpdate(hostRef, false);\n      } // Returns \"true\" when the forced update was successfully scheduled\n\n\n    return isConnected;\n  }\n};\n\nvar appDidLoad = function appDidLoad(who) {\n  // on appload\n  // we have finish the first big initial render\n  {\n    addHydratedFlag(doc.documentElement);\n  }\n  {\n    plt.$flags$ |= 2\n    /* appLoaded */\n    ;\n  }\n  nextTick(function () {\n    return emitEvent(win, 'appload', {\n      detail: {\n        namespace: NAMESPACE\n      }\n    });\n  });\n};\n\nvar safeCall = function safeCall(instance, method, arg) {\n  if (instance && instance[method]) {\n    try {\n      return instance[method](arg);\n    } catch (e) {\n      consoleError(e);\n    }\n  }\n\n  return undefined;\n};\n\nvar then = function then(promise, thenFn) {\n  return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\n\nvar addHydratedFlag = function addHydratedFlag(elm) {\n  return elm.classList.add('hydrated');\n};\n\nvar parsePropertyValue = function parsePropertyValue(propValue, propType) {\n  // ensure this value is of the correct prop type\n  if (propValue != null && !isComplexType(propValue)) {\n    if (propType & 4\n    /* Boolean */\n    ) {\n        // per the HTML spec, any string value means it is a boolean true value\n        // but we'll cheat here and say that the string \"false\" is the boolean false\n        return propValue === 'false' ? false : propValue === '' || !!propValue;\n      } // redundant return here for better minification\n\n\n    return propValue;\n  } // not sure exactly what type we want\n  // so no need to change to a different type\n\n\n  return propValue;\n};\n\nvar getValue = function getValue(ref, propName) {\n  return getHostRef(ref).$instanceValues$.get(propName);\n};\n\nvar setValue = function setValue(ref, propName, newVal, cmpMeta) {\n  // check our new property value against our internal value\n  var hostRef = getHostRef(ref);\n  var oldVal = hostRef.$instanceValues$.get(propName);\n  var flags = hostRef.$flags$;\n  var instance = hostRef.$lazyInstance$;\n  newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n\n  if ((!(flags & 8\n  /* isConstructingInstance */\n  ) || oldVal === undefined) && newVal !== oldVal) {\n    // gadzooks! the property's value has changed!!\n    // set our new value!\n    hostRef.$instanceValues$.set(propName, newVal);\n\n    if (instance) {\n      // get an array of method names of watch functions to call\n      if (cmpMeta.$watchers$ && flags & 128\n      /* isWatchReady */\n      ) {\n          var watchMethods = cmpMeta.$watchers$[propName];\n\n          if (watchMethods) {\n            // this instance is watching for when this property changed\n            watchMethods.map(function (watchMethodName) {\n              try {\n                // fire off each of the watch methods that are watching this property\n                instance[watchMethodName](newVal, oldVal, propName);\n              } catch (e) {\n                consoleError(e);\n              }\n            });\n          }\n        }\n\n      if ((flags & (2\n      /* hasRendered */\n      | 16\n      /* isQueuedForUpdate */\n      )) === 2\n      /* hasRendered */\n      ) {\n          // looks like this value actually changed, so we've got work to do!\n          // but only if we've already rendered, otherwise just chill out\n          // queue that we need to do an update, but don't worry about queuing\n          // up millions cuz this function ensures it only runs once\n          scheduleUpdate(hostRef, false);\n        }\n    }\n  }\n};\n\nvar proxyComponent = function proxyComponent(Cstr, cmpMeta, flags) {\n  if (cmpMeta.$members$) {\n    if (Cstr.watchers) {\n      cmpMeta.$watchers$ = Cstr.watchers;\n    } // It's better to have a const than two Object.entries()\n\n\n    var members = Object.entries(cmpMeta.$members$);\n    var prototype_1 = Cstr.prototype;\n    members.map(function (_a) {\n      var memberName = _a[0],\n          memberFlags = _a[1][0];\n\n      if (memberFlags & 31\n      /* Prop */\n      || flags & 2\n      /* proxyState */\n      && memberFlags & 32\n      /* State */\n      ) {\n        // proxyComponent - prop\n        Object.defineProperty(prototype_1, memberName, {\n          get: function get() {\n            // proxyComponent, get value\n            return getValue(this, memberName);\n          },\n          set: function set(newValue) {\n            // proxyComponent, set value\n            setValue(this, memberName, newValue, cmpMeta);\n          },\n          configurable: true,\n          enumerable: true\n        });\n      } else if (flags & 1\n      /* isElementConstructor */\n      && memberFlags & 64\n      /* Method */\n      ) {\n          // proxyComponent - method\n          Object.defineProperty(prototype_1, memberName, {\n            value: function value() {\n              var args = [];\n\n              for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n              }\n\n              var ref = getHostRef(this);\n              return ref.$onInstancePromise$.then(function () {\n                var _a;\n\n                return (_a = ref.$lazyInstance$)[memberName].apply(_a, args);\n              });\n            }\n          });\n        }\n    });\n\n    if (flags & 1\n    /* isElementConstructor */\n    ) {\n        var attrNameToPropName_1 = new Map();\n\n        prototype_1.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n          var _this = this;\n\n          plt.jmp(function () {\n            var propName = attrNameToPropName_1.get(attrName);\n            _this[propName] = newValue === null && typeof _this[propName] === 'boolean' ? false : newValue;\n          });\n        }; // create an array of attributes to observe\n        // and also create a map of html attribute name to js property name\n\n\n        Cstr.observedAttributes = members.filter(function (_a) {\n          var _ = _a[0],\n              m = _a[1];\n          return m[0] & 15;\n        }\n        /* HasAttribute */\n        ) // filter to only keep props that should match attributes\n        .map(function (_a) {\n          var propName = _a[0],\n              m = _a[1];\n          var attrName = m[1] || propName;\n          attrNameToPropName_1.set(attrName, propName);\n          return attrName;\n        });\n      }\n  }\n\n  return Cstr;\n};\n\nvar initializeComponent = function initializeComponent(elm, hostRef, cmpMeta, hmrVersionId, Cstr) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var endLoad, endNewInstance, scopeId, endRegisterStyles, style, ancestorComponent, schedule;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!((hostRef.$flags$ & 32\n          /* hasInitializedComponent */\n          ) === 0)) return [3\n          /*break*/\n          , 3]; // we haven't initialized this element yet\n\n          hostRef.$flags$ |= 32\n          /* hasInitializedComponent */\n          ; // lazy loaded components\n          // request the component's implementation to be\n          // wired up with the host element\n\n          Cstr = loadModule(cmpMeta);\n          if (!Cstr.then) return [3\n          /*break*/\n          , 2];\n          endLoad = uniqueTime();\n          return [4\n          /*yield*/\n          , Cstr];\n\n        case 1:\n          Cstr = _a.sent();\n          endLoad();\n          _a.label = 2;\n\n        case 2:\n          if (!Cstr.isProxied) {\n            // we'eve never proxied this Constructor before\n            // let's add the getters/setters to its prototype before\n            // the first time we create an instance of the implementation\n            {\n              cmpMeta.$watchers$ = Cstr.watchers;\n            }\n            proxyComponent(Cstr, cmpMeta, 2\n            /* proxyState */\n            );\n            Cstr.isProxied = true;\n          }\n\n          endNewInstance = createTime('createInstance', cmpMeta.$tagName$); // ok, time to construct the instance\n          // but let's keep track of when we start and stop\n          // so that the getters/setters don't incorrectly step on data\n\n          {\n            hostRef.$flags$ |= 8\n            /* isConstructingInstance */\n            ;\n          } // construct the lazy-loaded component implementation\n          // passing the hostRef is very important during\n          // construction in order to directly wire together the\n          // host element and the lazy-loaded instance\n\n          try {\n            new Cstr(hostRef);\n          } catch (e) {\n            consoleError(e);\n          }\n\n          {\n            hostRef.$flags$ &= ~8\n            /* isConstructingInstance */\n            ;\n          }\n          {\n            hostRef.$flags$ |= 128\n            /* isWatchReady */\n            ;\n          }\n          endNewInstance();\n          scopeId = getScopeId(cmpMeta.$tagName$);\n\n          if (!styles.has(scopeId) && Cstr.style) {\n            endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n            style = Cstr.style;\n            registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1\n            /* shadowDomEncapsulation */\n            ));\n            endRegisterStyles();\n          }\n\n          _a.label = 3;\n\n        case 3:\n          ancestorComponent = hostRef.$ancestorComponent$;\n\n          schedule = function schedule() {\n            return scheduleUpdate(hostRef, true);\n          };\n\n          if (ancestorComponent && ancestorComponent['s-rc']) {\n            // this is the intial load and this component it has an ancestor component\n            // but the ancestor component has NOT fired its will update lifecycle yet\n            // so let's just cool our jets and wait for the ancestor to continue first\n            // this will get fired off when the ancestor component\n            // finally gets around to rendering its lazy self\n            // fire off the initial update\n            ancestorComponent['s-rc'].push(schedule);\n          } else {\n            schedule();\n          }\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar connectedCallback = function connectedCallback(elm) {\n  if ((plt.$flags$ & 1\n  /* isTmpDisconnected */\n  ) === 0) {\n    var hostRef_1 = getHostRef(elm);\n    var cmpMeta_1 = hostRef_1.$cmpMeta$;\n    var endConnected = createTime('connectedCallback', cmpMeta_1.$tagName$);\n\n    if (!(hostRef_1.$flags$ & 1\n    /* hasConnected */\n    )) {\n      // first time this component has connected\n      hostRef_1.$flags$ |= 1\n      /* hasConnected */\n      ;\n      {\n        // find the first ancestor component (if there is one) and register\n        // this component as one of the actively loading child components for its ancestor\n        var ancestorComponent = elm;\n\n        while (ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host) {\n          // climb up the ancestors looking for the first\n          // component that hasn't finished its lifecycle update yet\n          if (ancestorComponent['s-p']) {\n            // we found this components first ancestor component\n            // keep a reference to this component's ancestor component\n            attachToAncestor(hostRef_1, hostRef_1.$ancestorComponent$ = ancestorComponent);\n            break;\n          }\n        }\n      } // Lazy properties\n      // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n\n      if (cmpMeta_1.$members$) {\n        Object.entries(cmpMeta_1.$members$).map(function (_a) {\n          var memberName = _a[0],\n              memberFlags = _a[1][0];\n\n          if (memberFlags & 31\n          /* Prop */\n          && elm.hasOwnProperty(memberName)) {\n            var value = elm[memberName];\n            delete elm[memberName];\n            elm[memberName] = value;\n          }\n        });\n      }\n\n      {\n        // connectedCallback, taskQueue, initialLoad\n        // angular sets attribute AFTER connectCallback\n        // https://github.com/angular/angular/issues/18909\n        // https://github.com/angular/angular/issues/19940\n        nextTick(function () {\n          return initializeComponent(elm, hostRef_1, cmpMeta_1);\n        });\n      }\n    }\n\n    endConnected();\n  }\n};\n\nvar disconnectedCallback = function disconnectedCallback(elm) {\n  if ((plt.$flags$ & 1\n  /* isTmpDisconnected */\n  ) === 0) {\n    var hostRef = getHostRef(elm);\n    var instance = hostRef.$lazyInstance$; // clear CSS var-shim tracking\n\n    if (plt.$cssShim$) {\n      plt.$cssShim$.removeHost(elm);\n    }\n\n    {\n      safeCall(instance, 'componentDidUnload');\n    }\n  }\n};\n\nvar bootstrapLazy = function bootstrapLazy(lazyBundles, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var endBootstrap = createTime();\n  var cmpTags = [];\n  var exclude = options.exclude || [];\n  var customElements = win.customElements;\n  var head = doc.head;\n  var metaCharset = /*@__PURE__*/head.querySelector('meta[charset]');\n  var visibilityStyle = /*@__PURE__*/doc.createElement('style');\n  var deferredConnectedCallbacks = [];\n  var appLoadFallback;\n  var isBootstrapping = true;\n  Object.assign(plt, options);\n  plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n  {\n    if (options.syncQueue) {\n      plt.$flags$ |= 4\n      /* queueSync */\n      ;\n    }\n  }\n  lazyBundles.map(function (lazyBundle) {\n    return lazyBundle[1].map(function (compactMeta) {\n      var cmpMeta = {\n        $flags$: compactMeta[0],\n        $tagName$: compactMeta[1],\n        $members$: compactMeta[2],\n        $listeners$: compactMeta[3]\n      };\n      {\n        cmpMeta.$members$ = compactMeta[2];\n      }\n      {\n        cmpMeta.$watchers$ = {};\n      }\n      var tagName = cmpMeta.$tagName$;\n\n      var HostElement =\n      /** @class */\n      function (_super) {\n        __extends(HostElement, _super); // StencilLazyHost\n\n\n        function HostElement(self) {\n          var _this = // @ts-ignore\n          _super.call(this, self) || this;\n\n          self = _this;\n          registerHost(self, cmpMeta);\n          return _this;\n        }\n\n        HostElement.prototype.connectedCallback = function () {\n          var _this = this;\n\n          if (appLoadFallback) {\n            clearTimeout(appLoadFallback);\n            appLoadFallback = null;\n          }\n\n          if (isBootstrapping) {\n            // connectedCallback will be processed once all components have been registered\n            deferredConnectedCallbacks.push(this);\n          } else {\n            plt.jmp(function () {\n              return connectedCallback(_this);\n            });\n          }\n        };\n\n        HostElement.prototype.disconnectedCallback = function () {\n          var _this = this;\n\n          plt.jmp(function () {\n            return disconnectedCallback(_this);\n          });\n        };\n\n        HostElement.prototype.forceUpdate = function () {\n          forceUpdate(this);\n        };\n\n        HostElement.prototype.componentOnReady = function () {\n          return getHostRef(this).$onReadyPromise$;\n        };\n\n        return HostElement;\n      }(HTMLElement);\n\n      cmpMeta.$lazyBundleIds$ = lazyBundle[0];\n\n      if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n        cmpTags.push(tagName);\n        customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1\n        /* isElementConstructor */\n        ));\n      }\n    });\n  });\n  {\n    visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n    visibilityStyle.setAttribute('data-styles', '');\n    head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n  } // Process deferred connectedCallbacks now all components have been registered\n\n  isBootstrapping = false;\n\n  if (deferredConnectedCallbacks.length) {\n    deferredConnectedCallbacks.map(function (host) {\n      return host.connectedCallback();\n    });\n  } else {\n    {\n      plt.jmp(function () {\n        return appLoadFallback = setTimeout(appDidLoad, 30);\n      });\n    }\n  } // Fallback appLoad event\n\n\n  endBootstrap();\n};\n\nvar hostRefs = new WeakMap();\n\nvar getHostRef = function getHostRef(ref) {\n  return hostRefs.get(ref);\n};\n\nvar registerInstance = function registerInstance(lazyInstance, hostRef) {\n  return hostRefs.set(hostRef.$lazyInstance$ = lazyInstance, hostRef);\n};\n\nvar registerHost = function registerHost(elm, cmpMeta) {\n  var hostRef = {\n    $flags$: 0,\n    $hostElement$: elm,\n    $cmpMeta$: cmpMeta,\n    $instanceValues$: new Map()\n  };\n  {\n    hostRef.$onInstancePromise$ = new Promise(function (r) {\n      return hostRef.$onInstanceResolve$ = r;\n    });\n  }\n  {\n    hostRef.$onReadyPromise$ = new Promise(function (r) {\n      return hostRef.$onReadyResolve$ = r;\n    });\n    elm['s-p'] = [];\n    elm['s-rc'] = [];\n  }\n  return hostRefs.set(elm, hostRef);\n};\n\nvar consoleError = function consoleError(e) {\n  return console.error(e);\n};\n\nvar cmpModules = /*@__PURE__*/new Map();\n\nvar loadModule = function loadModule(cmpMeta, hostRef, hmrVersionId) {\n  // loadModuleImport\n  var exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n  var bundleId = cmpMeta.$lazyBundleIds$;\n  var module = cmpModules.get(bundleId);\n\n  if (module) {\n    return module[exportName];\n  }\n\n  return import(\n  /* webpackInclude: /\\.entry\\.js$/ */\n\n  /* webpackExclude: /\\.system\\.entry\\.js$/ */\n\n  /* webpackMode: \"lazy\" */\n  \"./\" + bundleId + \".entry.js\" + '').then(function (importedModule) {\n    {\n      cmpModules.set(bundleId, importedModule);\n    }\n    return importedModule[exportName];\n  }, consoleError);\n};\n\nvar styles = new Map();\nvar queueDomReads = [];\nvar queueDomWrites = [];\nvar queueDomWritesLow = [];\n\nvar queueTask = function queueTask(queue, write) {\n  return function (cb) {\n    queue.push(cb);\n\n    if (!queuePending) {\n      queuePending = true;\n\n      if (write && plt.$flags$ & 4\n      /* queueSync */\n      ) {\n          nextTick(flush);\n        } else {\n        plt.raf(flush);\n      }\n    }\n  };\n};\n\nvar consume = function consume(queue) {\n  for (var i = 0; i < queue.length; i++) {\n    try {\n      queue[i](performance.now());\n    } catch (e) {\n      consoleError(e);\n    }\n  }\n\n  queue.length = 0;\n};\n\nvar consumeTimeout = function consumeTimeout(queue, timeout) {\n  var i = 0;\n  var ts = 0;\n\n  while (i < queue.length && (ts = performance.now()) < timeout) {\n    try {\n      queue[i++](ts);\n    } catch (e) {\n      consoleError(e);\n    }\n  }\n\n  if (i === queue.length) {\n    queue.length = 0;\n  } else if (i !== 0) {\n    queue.splice(0, i);\n  }\n};\n\nvar flush = function flush() {\n  {\n    queueCongestion++;\n  } // always force a bunch of medium callbacks to run, but still have\n  // a throttle on how many can run in a certain time\n  // DOM READS!!!\n\n  consume(queueDomReads); // DOM WRITES!!!\n\n  {\n    var timeout = (plt.$flags$ & 6\n    /* queueMask */\n    ) === 2\n    /* appLoaded */\n    ? performance.now() + 14 * Math.ceil(queueCongestion * (1.0 / 10.0)) : Infinity;\n    consumeTimeout(queueDomWrites, timeout);\n    consumeTimeout(queueDomWritesLow, timeout);\n\n    if (queueDomWrites.length > 0) {\n      queueDomWritesLow.push.apply(queueDomWritesLow, queueDomWrites);\n      queueDomWrites.length = 0;\n    }\n\n    if (queuePending = queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length > 0) {\n      // still more to do yet, but we've run out of time\n      // let's let this thing cool off and try again in the next tick\n      plt.raf(flush);\n    } else {\n      queueCongestion = 0;\n    }\n  }\n};\n\nvar nextTick = /*@__PURE__*/function nextTick(cb) {\n  return promiseResolve().then(cb);\n};\n\nvar writeTask = /*@__PURE__*/queueTask(queueDomWrites, true);\n\nvar patchEsm = function patchEsm() {\n  // @ts-ignore\n  if (!(CSS && CSS.supports && CSS.supports('color', 'var(--c)'))) {\n    // @ts-ignore\n    return import(\n    /* webpackChunkName: \"polyfills-css-shim\" */\n    './css-shim-d64ae6d5.js').then(function () {\n      if (plt.$cssShim$ = win.__cssshim) {\n        return plt.$cssShim$.i();\n      } else {\n        // for better minification\n        return 0;\n      }\n    });\n  }\n\n  return promiseResolve();\n};\n\nvar patchBrowser = function patchBrowser() {\n  {\n    // shim css vars\n    plt.$cssShim$ = win.__cssshim;\n  } // @ts-ignore\n\n  var scriptElm = Array.from(doc.querySelectorAll('script')).find(function (s) {\n    return new RegExp(\"/\" + NAMESPACE + \"(\\\\.esm)?\\\\.js($|\\\\?|#)\").test(s.src) || s.getAttribute('data-stencil-namespace') === NAMESPACE;\n  });\n  var opts = scriptElm['data-opts'] || {};\n\n  if ('onbeforeload' in scriptElm && !history.scrollRestoration\n  /* IS_ESM_BUILD */\n  ) {\n      // Safari < v11 support: This IF is true if it's Safari below v11.\n      // This fn cannot use async/await since Safari didn't support it until v11,\n      // however, Safari 10 did support modules. Safari 10 also didn't support \"nomodule\",\n      // so both the ESM file and nomodule file would get downloaded. Only Safari\n      // has 'onbeforeload' in the script, and \"history.scrollRestoration\" was added\n      // to Safari in v11. Return a noop then() so the async/await ESM code doesn't continue.\n      // IS_ESM_BUILD is replaced at build time so this check doesn't happen in systemjs builds.\n      return {\n        then: function then() {\n          /* promise noop */\n        }\n      };\n    }\n\n  {\n    opts.resourcesUrl = new URL('.', new URL(scriptElm.getAttribute('data-resources-url') || scriptElm.src, win.location.href)).href;\n    {\n      patchDynamicImport(opts.resourcesUrl, scriptElm);\n    }\n\n    if (!win.customElements) {\n      // module support, but no custom elements support (Old Edge)\n      // @ts-ignore\n      return import(\n      /* webpackChunkName: \"polyfills-dom\" */\n      './dom-59e43002.js').then(function () {\n        return opts;\n      });\n    }\n  }\n  return promiseResolve(opts);\n};\n\nvar patchDynamicImport = function patchDynamicImport(base, orgScriptElm) {\n  var importFunctionName = getDynamicImportFunction(NAMESPACE);\n\n  try {\n    // test if this browser supports dynamic imports\n    // There is a caching issue in V8, that breaks using import() in Function\n    // By generating a random string, we can workaround it\n    // Check https://bugs.chromium.org/p/chromium/issues/detail?id=990810 for more info\n    win[importFunctionName] = new Function('w', \"return import(w);//\" + Math.random());\n  } catch (e) {\n    // this shim is specifically for browsers that do support \"esm\" imports\n    // however, they do NOT support \"dynamic\" imports\n    // basically this code is for old Edge, v18 and below\n    var moduleMap_1 = new Map();\n\n    win[importFunctionName] = function (src) {\n      var url = new URL(src, base).href;\n      var mod = moduleMap_1.get(url);\n\n      if (!mod) {\n        var script_1 = doc.createElement('script');\n        script_1.type = 'module';\n        script_1.crossOrigin = orgScriptElm.crossOrigin;\n        script_1.src = URL.createObjectURL(new Blob([\"import * as m from '\" + url + \"'; window.\" + importFunctionName + \".m = m;\"], {\n          type: 'application/javascript'\n        }));\n        mod = new Promise(function (resolve) {\n          script_1.onload = function () {\n            resolve(win[importFunctionName].m);\n            script_1.remove();\n          };\n        });\n        moduleMap_1.set(url, mod);\n        doc.head.appendChild(script_1);\n      }\n\n      return mod;\n    };\n  }\n};\n\nexport { patchEsm as a, bootstrapLazy as b, getElement as g, patchBrowser as p, registerInstance as r };","map":{"version":3,"sources":["C:/Users/Human/Documents/MildMayhemFull/mildmayhem/client/node_modules/@ion-phaser/core/dist/esm-es5/index-24fc0bef.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","k","a","j","jl","NAMESPACE","queueCongestion","queuePending","win","window","CSS","doc","document","head","plt","$flags$","$resourcesUrl$","jmp","h","raf","requestAnimationFrame","ael","el","eventName","listener","opts","addEventListener","rel","removeEventListener","promiseResolve","supportsConstructibleStylesheets","CSSStyleSheet","HYDRATED_CSS","createTime","fnName","tagName","uniqueTime","key","measureText","rootAppliedStyles","WeakMap","registerStyle","scopeId","cssText","allowCS","style","styles","get","replace","set","addStyle","styleContainerNode","cmpMeta","mode","hostElm","getScopeId","$tagName$","nodeType","appliedStyles","styleElm","Set","has","$cssShim$","createHostStyle","newScopeId","createElement","innerHTML","insertBefore","querySelector","add","adoptedStyleSheets","includes","attachStyles","hostRef","$cmpMeta$","elm","$hostElement$","endAttachStyles","getRootNode","$modeName$","isComplexType","o","getDynamicImportFunction","namespace","getElement","ref","getHostRef","emitEvent","name","ev","CustomEvent","dispatchEvent","attachToAncestor","ancestorComponent","$onRenderResolve$","scheduleUpdate","isInitialLoad","endSchedule","$ancestorComponent$","instance","$lazyInstance$","update","updateComponent","promise","safeCall","writeTask","endUpdate","rc","endRender","updateHost","map","cb","undefined","childrenPromises","postUpdate","postUpdateComponent","all","endPostUpdate","addHydratedFlag","$onReadyResolve$","appDidLoad","$onInstanceResolve$","nextTick","forceUpdate","isConnected","who","documentElement","detail","method","arg","consoleError","thenFn","classList","parsePropertyValue","propValue","propType","getValue","propName","$instanceValues$","setValue","newVal","oldVal","flags","$members$","$watchers$","watchMethods","watchMethodName","proxyComponent","Cstr","watchers","members","entries","prototype_1","_a","memberName","memberFlags","defineProperty","newValue","configurable","enumerable","args","_i","$onInstancePromise$","attrNameToPropName_1","Map","attributeChangedCallback","attrName","_oldValue","_this","observedAttributes","filter","m","initializeComponent","hmrVersionId","endLoad","endNewInstance","endRegisterStyles","schedule","loadModule","isProxied","connectedCallback","hostRef_1","cmpMeta_1","endConnected","parentNode","host","disconnectedCallback","removeHost","bootstrapLazy","lazyBundles","options","endBootstrap","cmpTags","exclude","customElements","metaCharset","visibilityStyle","deferredConnectedCallbacks","appLoadFallback","isBootstrapping","assign","URL","resourcesUrl","baseURI","href","syncQueue","lazyBundle","compactMeta","$listeners$","HostElement","_super","self","registerHost","clearTimeout","componentOnReady","$onReadyPromise$","HTMLElement","$lazyBundleIds$","define","setAttribute","nextSibling","firstChild","setTimeout","hostRefs","registerInstance","lazyInstance","console","error","cmpModules","exportName","bundleId","module","importedModule","queueDomReads","queueDomWrites","queueDomWritesLow","queueTask","queue","write","flush","consume","performance","now","consumeTimeout","timeout","ts","splice","Math","ceil","Infinity","patchEsm","supports","__cssshim","patchBrowser","scriptElm","from","querySelectorAll","find","RegExp","test","src","getAttribute","history","scrollRestoration","location","patchDynamicImport","base","orgScriptElm","importFunctionName","Function","random","moduleMap_1","url","mod","script_1","type","crossOrigin","createObjectURL","Blob","onload","remove","appendChild"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar NAMESPACE = 'ionphaser';\nvar queueCongestion = 0;\nvar queuePending = false;\nvar win = typeof window !== 'undefined' ? window : {};\nvar CSS = win.CSS;\nvar doc = win.document || { head: {} };\nvar plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: function (h) { return h(); },\n    raf: function (h) { return requestAnimationFrame(h); },\n    ael: function (el, eventName, listener, opts) { return el.addEventListener(eventName, listener, opts); },\n    rel: function (el, eventName, listener, opts) { return el.removeEventListener(eventName, listener, opts); },\n};\nvar promiseResolve = function (v) { return Promise.resolve(v); };\nvar supportsConstructibleStylesheets = /*@__PURE__*/ (function () {\n    try {\n        new CSSStyleSheet();\n        return true;\n    }\n    catch (e) { }\n    return false;\n})();\nvar HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\nvar createTime = function (fnName, tagName) {\n    if (tagName === void 0) { tagName = ''; }\n    {\n        return function () {\n            return;\n        };\n    }\n};\nvar uniqueTime = function (key, measureText) {\n    {\n        return function () {\n            return;\n        };\n    }\n};\nvar rootAppliedStyles = new WeakMap();\nvar registerStyle = function (scopeId, cssText, allowCS) {\n    var style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nvar addStyle = function (styleContainerNode, cmpMeta, mode, hostElm) {\n    var scopeId = getScopeId(cmpMeta.$tagName$);\n    var style = styles.get(scopeId);\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            var appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            var styleElm = void 0;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                {\n                    if (plt.$cssShim$) {\n                        styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10 /* needsScopedEncapsulation */));\n                        var newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = __spreadArrays(styleContainerNode.adoptedStyleSheets, [style]);\n        }\n    }\n    return scopeId;\n};\nvar attachStyles = function (hostRef) {\n    var cmpMeta = hostRef.$cmpMeta$;\n    var elm = hostRef.$hostElement$;\n    var endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    var scopeId = addStyle(elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n    endAttachStyles();\n};\nvar getScopeId = function (tagName, mode) { return 'sc-' + (tagName); };\nvar isComplexType = function (o) {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\nvar getDynamicImportFunction = function (namespace) { return \"__sc_import_\" + namespace.replace(/\\s|-/g, '_'); };\nvar getElement = function (ref) { return (getHostRef(ref).$hostElement$); };\nvar emitEvent = function (elm, name, opts) {\n    var ev = new (CustomEvent)(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nvar attachToAncestor = function (hostRef, ancestorComponent) {\n    if (ancestorComponent && !hostRef.$onRenderResolve$) {\n        ancestorComponent['s-p'].push(new Promise(function (r) { return (hostRef.$onRenderResolve$ = r); }));\n    }\n};\nvar scheduleUpdate = function (hostRef, isInitialLoad) {\n    {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    if (hostRef.$flags$ & 4 /* isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* needsRerender */;\n        return;\n    }\n    var endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    var ancestorComponent = hostRef.$ancestorComponent$;\n    var instance = hostRef.$lazyInstance$;\n    var update = function () { return updateComponent(hostRef, instance, isInitialLoad); };\n    attachToAncestor(hostRef, ancestorComponent);\n    var promise;\n    if (isInitialLoad) {\n        {\n            promise = safeCall(instance, 'componentWillLoad');\n        }\n    }\n    endSchedule();\n    // there is no ancestorc omponent or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    return then(promise, function () { return writeTask(update); });\n};\nvar updateComponent = function (hostRef, instance, isInitialLoad) {\n    // updateComponent\n    var elm = hostRef.$hostElement$;\n    var endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    var rc = elm['s-rc'];\n    if (isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    var endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    if (plt.$cssShim$) {\n        plt.$cssShim$.updateHost(elm);\n    }\n    {\n        hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n    }\n    {\n        hostRef.$flags$ |= 2 /* hasRendered */;\n    }\n    if (rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map(function (cb) { return cb(); });\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    {\n        var childrenPromises = elm['s-p'];\n        var postUpdate = function () { return postUpdateComponent(hostRef); };\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n};\nvar postUpdateComponent = function (hostRef) {\n    var tagName = hostRef.$cmpMeta$.$tagName$;\n    var elm = hostRef.$hostElement$;\n    var endPostUpdate = createTime('postUpdate', tagName);\n    var ancestorComponent = hostRef.$ancestorComponent$;\n    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* hasLoadedComponent */;\n        {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        endPostUpdate();\n        {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad();\n            }\n        }\n    }\n    else {\n        endPostUpdate();\n    }\n    {\n        hostRef.$onInstanceResolve$(elm);\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* needsRerender */) {\n            nextTick(function () { return scheduleUpdate(hostRef, false); });\n        }\n        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);\n    }\n    // ( •_•)\n    // ( •_•)>⌐■-■\n    // (⌐■_■)\n};\nvar forceUpdate = function (ref) {\n    {\n        var hostRef = getHostRef(ref);\n        var isConnected = hostRef.$hostElement$.isConnected;\n        if (isConnected && (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n            scheduleUpdate(hostRef, false);\n        }\n        // Returns \"true\" when the forced update was successfully scheduled\n        return isConnected;\n    }\n};\nvar appDidLoad = function (who) {\n    // on appload\n    // we have finish the first big initial render\n    {\n        addHydratedFlag(doc.documentElement);\n    }\n    {\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    nextTick(function () { return emitEvent(win, 'appload', { detail: { namespace: NAMESPACE } }); });\n};\nvar safeCall = function (instance, method, arg) {\n    if (instance && instance[method]) {\n        try {\n            return instance[method](arg);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    return undefined;\n};\nvar then = function (promise, thenFn) {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nvar addHydratedFlag = function (elm) { return (elm.classList.add('hydrated')); };\nvar parsePropertyValue = function (propValue, propType) {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (propType & 4 /* Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return propValue === 'false' ? false : propValue === '' || !!propValue;\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nvar getValue = function (ref, propName) { return getHostRef(ref).$instanceValues$.get(propName); };\nvar setValue = function (ref, propName, newVal, cmpMeta) {\n    // check our new property value against our internal value\n    var hostRef = getHostRef(ref);\n    var oldVal = hostRef.$instanceValues$.get(propName);\n    var flags = hostRef.$flags$;\n    var instance = hostRef.$lazyInstance$;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if ((!(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (instance) {\n            // get an array of method names of watch functions to call\n            if (cmpMeta.$watchers$ && flags & 128 /* isWatchReady */) {\n                var watchMethods = cmpMeta.$watchers$[propName];\n                if (watchMethods) {\n                    // this instance is watching for when this property changed\n                    watchMethods.map(function (watchMethodName) {\n                        try {\n                            // fire off each of the watch methods that are watching this property\n                            instance[watchMethodName](newVal, oldVal, propName);\n                        }\n                        catch (e) {\n                            consoleError(e);\n                        }\n                    });\n                }\n            }\n            if ((flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\nvar proxyComponent = function (Cstr, cmpMeta, flags) {\n    if (cmpMeta.$members$) {\n        if (Cstr.watchers) {\n            cmpMeta.$watchers$ = Cstr.watchers;\n        }\n        // It's better to have a const than two Object.entries()\n        var members = Object.entries(cmpMeta.$members$);\n        var prototype_1 = Cstr.prototype;\n        members.map(function (_a) {\n            var memberName = _a[0], memberFlags = _a[1][0];\n            if ((memberFlags & 31 /* Prop */ || ((flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype_1, memberName, {\n                    get: function () {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set: function (newValue) {\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n            else if (flags & 1 /* isElementConstructor */ && memberFlags & 64 /* Method */) {\n                // proxyComponent - method\n                Object.defineProperty(prototype_1, memberName, {\n                    value: function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        var ref = getHostRef(this);\n                        return ref.$onInstancePromise$.then(function () {\n                            var _a;\n                            return (_a = ref.$lazyInstance$)[memberName].apply(_a, args);\n                        });\n                    },\n                });\n            }\n        });\n        if ((flags & 1 /* isElementConstructor */)) {\n            var attrNameToPropName_1 = new Map();\n            prototype_1.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                var _this = this;\n                plt.jmp(function () {\n                    var propName = attrNameToPropName_1.get(attrName);\n                    _this[propName] = newValue === null && typeof _this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(function (_a) {\n                var _ = _a[0], m = _a[1];\n                return m[0] & 15;\n            } /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(function (_a) {\n                var propName = _a[0], m = _a[1];\n                var attrName = m[1] || propName;\n                attrNameToPropName_1.set(attrName, propName);\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nvar initializeComponent = function (elm, hostRef, cmpMeta, hmrVersionId, Cstr) { return __awaiter(void 0, void 0, void 0, function () {\n    var endLoad, endNewInstance, scopeId, endRegisterStyles, style, ancestorComponent, schedule;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!((hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0)) return [3 /*break*/, 3];\n                // we haven't initialized this element yet\n                hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n                // lazy loaded components\n                // request the component's implementation to be\n                // wired up with the host element\n                Cstr = loadModule(cmpMeta);\n                if (!Cstr.then) return [3 /*break*/, 2];\n                endLoad = uniqueTime();\n                return [4 /*yield*/, Cstr];\n            case 1:\n                Cstr = _a.sent();\n                endLoad();\n                _a.label = 2;\n            case 2:\n                if (!Cstr.isProxied) {\n                    // we'eve never proxied this Constructor before\n                    // let's add the getters/setters to its prototype before\n                    // the first time we create an instance of the implementation\n                    {\n                        cmpMeta.$watchers$ = Cstr.watchers;\n                    }\n                    proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                    Cstr.isProxied = true;\n                }\n                endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n                // ok, time to construct the instance\n                // but let's keep track of when we start and stop\n                // so that the getters/setters don't incorrectly step on data\n                {\n                    hostRef.$flags$ |= 8 /* isConstructingInstance */;\n                }\n                // construct the lazy-loaded component implementation\n                // passing the hostRef is very important during\n                // construction in order to directly wire together the\n                // host element and the lazy-loaded instance\n                try {\n                    new Cstr(hostRef);\n                }\n                catch (e) {\n                    consoleError(e);\n                }\n                {\n                    hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n                }\n                {\n                    hostRef.$flags$ |= 128 /* isWatchReady */;\n                }\n                endNewInstance();\n                scopeId = getScopeId(cmpMeta.$tagName$);\n                if (!styles.has(scopeId) && Cstr.style) {\n                    endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                    style = Cstr.style;\n                    registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));\n                    endRegisterStyles();\n                }\n                _a.label = 3;\n            case 3:\n                ancestorComponent = hostRef.$ancestorComponent$;\n                schedule = function () { return scheduleUpdate(hostRef, true); };\n                if (ancestorComponent && ancestorComponent['s-rc']) {\n                    // this is the intial load and this component it has an ancestor component\n                    // but the ancestor component has NOT fired its will update lifecycle yet\n                    // so let's just cool our jets and wait for the ancestor to continue first\n                    // this will get fired off when the ancestor component\n                    // finally gets around to rendering its lazy self\n                    // fire off the initial update\n                    ancestorComponent['s-rc'].push(schedule);\n                }\n                else {\n                    schedule();\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar connectedCallback = function (elm) {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        var hostRef_1 = getHostRef(elm);\n        var cmpMeta_1 = hostRef_1.$cmpMeta$;\n        var endConnected = createTime('connectedCallback', cmpMeta_1.$tagName$);\n        if (!(hostRef_1.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef_1.$flags$ |= 1 /* hasConnected */;\n            {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                var ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if (ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef_1, (hostRef_1.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (cmpMeta_1.$members$) {\n                Object.entries(cmpMeta_1.$members$).map(function (_a) {\n                    var memberName = _a[0], memberFlags = _a[1][0];\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        var value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            {\n                // connectedCallback, taskQueue, initialLoad\n                // angular sets attribute AFTER connectCallback\n                // https://github.com/angular/angular/issues/18909\n                // https://github.com/angular/angular/issues/19940\n                nextTick(function () { return initializeComponent(elm, hostRef_1, cmpMeta_1); });\n            }\n        }\n        endConnected();\n    }\n};\nvar disconnectedCallback = function (elm) {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        var hostRef = getHostRef(elm);\n        var instance = hostRef.$lazyInstance$;\n        // clear CSS var-shim tracking\n        if (plt.$cssShim$) {\n            plt.$cssShim$.removeHost(elm);\n        }\n        {\n            safeCall(instance, 'componentDidUnload');\n        }\n    }\n};\nvar bootstrapLazy = function (lazyBundles, options) {\n    if (options === void 0) { options = {}; }\n    var endBootstrap = createTime();\n    var cmpTags = [];\n    var exclude = options.exclude || [];\n    var customElements = win.customElements;\n    var head = doc.head;\n    var metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    var visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    var deferredConnectedCallbacks = [];\n    var appLoadFallback;\n    var isBootstrapping = true;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    {\n        if (options.syncQueue) {\n            plt.$flags$ |= 4 /* queueSync */;\n        }\n    }\n    lazyBundles.map(function (lazyBundle) { return lazyBundle[1].map(function (compactMeta) {\n        var cmpMeta = {\n            $flags$: compactMeta[0],\n            $tagName$: compactMeta[1],\n            $members$: compactMeta[2],\n            $listeners$: compactMeta[3],\n        };\n        {\n            cmpMeta.$members$ = compactMeta[2];\n        }\n        {\n            cmpMeta.$watchers$ = {};\n        }\n        var tagName = cmpMeta.$tagName$;\n        var HostElement = /** @class */ (function (_super) {\n            __extends(HostElement, _super);\n            // StencilLazyHost\n            function HostElement(self) {\n                var _this = \n                // @ts-ignore\n                _super.call(this, self) || this;\n                self = _this;\n                registerHost(self, cmpMeta);\n                return _this;\n            }\n            HostElement.prototype.connectedCallback = function () {\n                var _this = this;\n                if (appLoadFallback) {\n                    clearTimeout(appLoadFallback);\n                    appLoadFallback = null;\n                }\n                if (isBootstrapping) {\n                    // connectedCallback will be processed once all components have been registered\n                    deferredConnectedCallbacks.push(this);\n                }\n                else {\n                    plt.jmp(function () { return connectedCallback(_this); });\n                }\n            };\n            HostElement.prototype.disconnectedCallback = function () {\n                var _this = this;\n                plt.jmp(function () { return disconnectedCallback(_this); });\n            };\n            HostElement.prototype.forceUpdate = function () {\n                forceUpdate(this);\n            };\n            HostElement.prototype.componentOnReady = function () {\n                return getHostRef(this).$onReadyPromise$;\n            };\n            return HostElement;\n        }(HTMLElement));\n        cmpMeta.$lazyBundleIds$ = lazyBundle[0];\n        if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n            cmpTags.push(tagName);\n            customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n        }\n    }); });\n    {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map(function (host) { return host.connectedCallback(); });\n    }\n    else {\n        {\n            plt.jmp(function () { return (appLoadFallback = setTimeout(appDidLoad, 30)); });\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\nvar hostRefs = new WeakMap();\nvar getHostRef = function (ref) { return hostRefs.get(ref); };\nvar registerInstance = function (lazyInstance, hostRef) { return hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef); };\nvar registerHost = function (elm, cmpMeta) {\n    var hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    {\n        hostRef.$onInstancePromise$ = new Promise(function (r) { return (hostRef.$onInstanceResolve$ = r); });\n    }\n    {\n        hostRef.$onReadyPromise$ = new Promise(function (r) { return (hostRef.$onReadyResolve$ = r); });\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    return hostRefs.set(elm, hostRef);\n};\nvar consoleError = function (e) { return console.error(e); };\nvar cmpModules = /*@__PURE__*/ new Map();\nvar loadModule = function (cmpMeta, hostRef, hmrVersionId) {\n    // loadModuleImport\n    var exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    var bundleId = (cmpMeta.$lazyBundleIds$);\n    var module = cmpModules.get(bundleId);\n    if (module) {\n        return module[exportName];\n    }\n    return import(\n    /* webpackInclude: /\\.entry\\.js$/ */\n    /* webpackExclude: /\\.system\\.entry\\.js$/ */\n    /* webpackMode: \"lazy\" */\n    \"./\" + bundleId + \".entry.js\" + '').then(function (importedModule) {\n        {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nvar styles = new Map();\nvar queueDomReads = [];\nvar queueDomWrites = [];\nvar queueDomWritesLow = [];\nvar queueTask = function (queue, write) { return function (cb) {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n}; };\nvar consume = function (queue) {\n    for (var i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nvar consumeTimeout = function (queue, timeout) {\n    var i = 0;\n    var ts = 0;\n    while (i < queue.length && (ts = performance.now()) < timeout) {\n        try {\n            queue[i++](ts);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    if (i === queue.length) {\n        queue.length = 0;\n    }\n    else if (i !== 0) {\n        queue.splice(0, i);\n    }\n};\nvar flush = function () {\n    {\n        queueCongestion++;\n    }\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    {\n        var timeout = (plt.$flags$ & 6 /* queueMask */) === 2 /* appLoaded */ ? performance.now() + 14 * Math.ceil(queueCongestion * (1.0 / 10.0)) : Infinity;\n        consumeTimeout(queueDomWrites, timeout);\n        consumeTimeout(queueDomWritesLow, timeout);\n        if (queueDomWrites.length > 0) {\n            queueDomWritesLow.push.apply(queueDomWritesLow, queueDomWrites);\n            queueDomWrites.length = 0;\n        }\n        if ((queuePending = queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n        else {\n            queueCongestion = 0;\n        }\n    }\n};\nvar nextTick = /*@__PURE__*/ function (cb) { return promiseResolve().then(cb); };\nvar writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\nvar patchEsm = function () {\n    // @ts-ignore\n    if (!(CSS && CSS.supports && CSS.supports('color', 'var(--c)'))) {\n        // @ts-ignore\n        return import(/* webpackChunkName: \"polyfills-css-shim\" */ './css-shim-d64ae6d5.js').then(function () {\n            if ((plt.$cssShim$ = win.__cssshim)) {\n                return plt.$cssShim$.i();\n            }\n            else {\n                // for better minification\n                return 0;\n            }\n        });\n    }\n    return promiseResolve();\n};\nvar patchBrowser = function () {\n    {\n        // shim css vars\n        plt.$cssShim$ = win.__cssshim;\n    }\n    // @ts-ignore\n    var scriptElm = Array.from(doc.querySelectorAll('script')).find(function (s) { return new RegExp(\"/\" + NAMESPACE + \"(\\\\.esm)?\\\\.js($|\\\\?|#)\").test(s.src) || s.getAttribute('data-stencil-namespace') === NAMESPACE; });\n    var opts = scriptElm['data-opts'] || {};\n    if ('onbeforeload' in scriptElm && !history.scrollRestoration /* IS_ESM_BUILD */) {\n        // Safari < v11 support: This IF is true if it's Safari below v11.\n        // This fn cannot use async/await since Safari didn't support it until v11,\n        // however, Safari 10 did support modules. Safari 10 also didn't support \"nomodule\",\n        // so both the ESM file and nomodule file would get downloaded. Only Safari\n        // has 'onbeforeload' in the script, and \"history.scrollRestoration\" was added\n        // to Safari in v11. Return a noop then() so the async/await ESM code doesn't continue.\n        // IS_ESM_BUILD is replaced at build time so this check doesn't happen in systemjs builds.\n        return {\n            then: function () {\n                /* promise noop */\n            },\n        };\n    }\n    {\n        opts.resourcesUrl = new URL('.', new URL(scriptElm.getAttribute('data-resources-url') || scriptElm.src, win.location.href)).href;\n        {\n            patchDynamicImport(opts.resourcesUrl, scriptElm);\n        }\n        if (!win.customElements) {\n            // module support, but no custom elements support (Old Edge)\n            // @ts-ignore\n            return import(/* webpackChunkName: \"polyfills-dom\" */ './dom-59e43002.js').then(function () { return opts; });\n        }\n    }\n    return promiseResolve(opts);\n};\nvar patchDynamicImport = function (base, orgScriptElm) {\n    var importFunctionName = getDynamicImportFunction(NAMESPACE);\n    try {\n        // test if this browser supports dynamic imports\n        // There is a caching issue in V8, that breaks using import() in Function\n        // By generating a random string, we can workaround it\n        // Check https://bugs.chromium.org/p/chromium/issues/detail?id=990810 for more info\n        win[importFunctionName] = new Function('w', \"return import(w);//\" + Math.random());\n    }\n    catch (e) {\n        // this shim is specifically for browsers that do support \"esm\" imports\n        // however, they do NOT support \"dynamic\" imports\n        // basically this code is for old Edge, v18 and below\n        var moduleMap_1 = new Map();\n        win[importFunctionName] = function (src) {\n            var url = new URL(src, base).href;\n            var mod = moduleMap_1.get(url);\n            if (!mod) {\n                var script_1 = doc.createElement('script');\n                script_1.type = 'module';\n                script_1.crossOrigin = orgScriptElm.crossOrigin;\n                script_1.src = URL.createObjectURL(new Blob([\"import * as m from '\" + url + \"'; window.\" + importFunctionName + \".m = m;\"], { type: 'application/javascript' }));\n                mod = new Promise(function (resolve) {\n                    script_1.onload = function () {\n                        resolve(win[importFunctionName].m);\n                        script_1.remove();\n                    };\n                });\n                moduleMap_1.set(url, mod);\n                doc.head.appendChild(script_1);\n            }\n            return mod;\n        };\n    }\n};\nexport { patchEsm as a, bootstrapLazy as b, getElement as g, patchBrowser as p, registerInstance as r };\n"]},"metadata":{},"sourceType":"module"}